<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>一之笔</title>
    <description>iOS 开发 公司合伙人 | 李露鑫，iOS &amp; Photography Lover，Software Engineer，Entrepreneur | 这里是 一之笔 @Yizibbi 李露鑫 的个人博客， 生活需要仪式感，💪。</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Mon, 29 Oct 2018 10:54:59 +0000</pubDate>
    <lastBuildDate>Mon, 29 Oct 2018 10:54:59 +0000</lastBuildDate>
    <generator>Jekyll v3.8.4</generator>
    
      <item>
        <title>超详细图文免费搭建VPS,VPN配置</title>
        <description>&lt;p&gt;文章首发整理个人博客,转载参考注明来源&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;;&lt;/p&gt;

&lt;h3 id=&quot;前言&quot;&gt;前言&lt;/h3&gt;

&lt;p&gt;现在,科学上网变得越来越重要了,面对国内搜索引擎的商业化,你要搜个东西,往往给你的不是你想要的结果;这时候,好的搜索引擎就很重要了;Google,因为政策原因,被和谐了,因此,想要科学的上网,怎么办?自己买个梯子,不划算,要知道,因为买了梯子,客服联系不上人的多得是,而且比较贵,并且不可靠;自己动手,丰衣足食,这篇文章旨在记录自己在搭建VPS的过程以及遇到的问题;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540357595.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;相关概念&quot;&gt;相关概念&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;VPS,虚拟专用服务器（Virtual private server，缩写为 VPS），是将一台服务器分割成多个虚拟专享服务器的服务。实现VPS的技术分为容器技术和虚拟化技术。简单理解VPS就是一台拥有公网IP的服务器。&lt;/li&gt;
  &lt;li&gt;VPN,虚拟私人网络（Virtual Private Network，缩写为VPN）是一种常用于连接中、大型企业或团体与团体间的私人网络的通讯方法。&lt;/li&gt;
  &lt;li&gt;SS,Shadowsocks，一种安全的socks5代理;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;vps的选择&quot;&gt;VPS的选择&lt;/h3&gt;

&lt;h4 id=&quot;搬瓦工-vs-亚马逊云aws&quot;&gt;搬瓦工 VS 亚马逊云(AWS)&lt;/h4&gt;

&lt;p&gt;什么是AWS？Amazon Web Services,就是亚马逊云服务;&lt;/p&gt;

&lt;p&gt;之前写过一篇文章&lt;a href=&quot;https://yizibi.github.io/2016/07/25/Mac%E7%A7%91%E5%AD%A6%E6%90%AD%E5%BB%BAVPN,%E7%BB%BF%E8%89%B2%E4%B8%8A%E7%BD%91/&quot;&gt;Mac科学搭建VPN,绿色上网&lt;/a&gt;,其中的VPS就是搬瓦工提供的,一年最低大概19美元,如果有优惠券的话,可能就16美元,我大概用了快2年,现在还在用,自己用的话,基本没什么问题;但是,我用了另外的亚马逊云提供的EC2服务,搭建好了,测试了一下,突然就得,搬瓦工延迟太大了,跟AWS不是一个数量级;&lt;/p&gt;

&lt;p&gt;最上面两个都是AWS的服务,最下面是搬瓦工的服务,对比立马就知道,差距太大了;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/yizhibi_aws_vpsyanchi.jpg?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;aws-免费试用条件&quot;&gt;AWS 免费试用条件&lt;/h4&gt;

&lt;p&gt;需要注册信息,并绑定一张&lt;code class=&quot;highlighter-rouge&quot;&gt;信用卡&lt;/code&gt;,需要扣费认证,这个认证的钱会退给你的;&lt;/p&gt;

&lt;h4 id=&quot;ec2套餐信息&quot;&gt;EC2套餐信息&lt;/h4&gt;

&lt;p&gt;EC2套餐,每个月750h,1G的内存,30G SSD,自己用够用了;&lt;/p&gt;

&lt;p&gt;具体的套餐,你可以去&lt;a href=&quot;https://aws.amazon.com/cn/free/?awsf.Free%20Tier%20Types=categories%23featured&quot;&gt;官网看看&lt;/a&gt;;&lt;/p&gt;

&lt;h3 id=&quot;账号注册&quot;&gt;账号注册&lt;/h3&gt;
&lt;p&gt;到&lt;a href=&quot;https://aws.amazon.com/cn/&quot;&gt;AWS&lt;/a&gt;进行注册,如下:
&lt;img src=&quot;http://yizhibi.6chemical.com/1540351426.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;
注册过程中需要绑定信用卡，会扣$1(预授权)。但需要注意的是，在没有用超的情况下，是免费的,后面可以通过设置超额提醒;另外,在注册的过程中,他们会打电话确认,听到那边说话几秒,反正说的是英语,你就输入屏幕提示的数字即可,官网验证成功;
&lt;img src=&quot;http://yizhibi.6chemical.com/1540351510.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;
一步一步按照提示走,就会注册成功;&lt;/p&gt;

&lt;h3 id=&quot;创建aws实例&quot;&gt;创建AWS实例&lt;/h3&gt;

&lt;p&gt;进入官网,可以找到下面这个这个免费套餐;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540351116.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;点进去,就能看到这个套餐的具体信息了;&lt;/p&gt;

&lt;p&gt;大概1到2h就能开通成功了;&lt;/p&gt;

&lt;h3 id=&quot;启动虚拟机&quot;&gt;启动虚拟机&lt;/h3&gt;

&lt;p&gt;登录进去,就能看到如下的服务了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540351883.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;点击启动虚拟机,开始选择虚拟机类型,包括一些配置信息,总共有以下七个步骤:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;选择AMI-&amp;gt;选择实例类型-&amp;gt;配置实例-&amp;gt;添加存储-&amp;gt;添加标签-&amp;gt;配置安全组-&amp;gt;审核启动&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;选择ami&quot;&gt;选择AMI&lt;/h4&gt;
&lt;p&gt;选择Amazon 系统映像(AMI),我自己通过实践选择的是Ubuntu 
&lt;img src=&quot;http://yizhibi.6chemical.com/1540353655.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;选择实例类型&quot;&gt;选择实例类型&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540353916.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;配置实例&quot;&gt;配置实例&lt;/h4&gt;
&lt;p&gt;默认配置即可,下一步;&lt;/p&gt;
&lt;h4 id=&quot;添加存储&quot;&gt;添加存储&lt;/h4&gt;
&lt;p&gt;默认配置即可,下一步;&lt;/p&gt;
&lt;h4 id=&quot;添加标签&quot;&gt;添加标签&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540354040.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;配置安全组&quot;&gt;配置安全组&lt;/h4&gt;

&lt;h5 id=&quot;设置端口流量&quot;&gt;设置端口流量&lt;/h5&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;注意&lt;/code&gt;:这一步很重要,如果搞错了,SSH客户端或者终端远程登录会连接不上;,这里先设置&lt;code class=&quot;highlighter-rouge&quot;&gt;所有流量&lt;/code&gt;和&lt;code class=&quot;highlighter-rouge&quot;&gt;端口&lt;/code&gt;开放;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540354232.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;生成秘钥对&quot;&gt;生成秘钥对&lt;/h5&gt;

&lt;p&gt;这个文件是,后缀为 &lt;code class=&quot;highlighter-rouge&quot;&gt;name.pem&lt;/code&gt; 形式的文件,可以用这个文件登录服务器;
秘钥对的名称一般是,账户名,注意是账户名,不要搞成登录名或者邮箱了;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540354417.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;点击启动实例,设置账单通知&lt;/p&gt;

&lt;h5 id=&quot;账单提醒功能重要&quot;&gt;账单提醒功能(重要)&lt;/h5&gt;

&lt;ul&gt;
  &lt;li&gt;启动状态&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540354543.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;首选项&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540354562.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;保存首选项;&lt;/p&gt;

&lt;h4 id=&quot;审核&quot;&gt;审核&lt;/h4&gt;
&lt;p&gt;最后一步就是审核,审核之前配置的所有功能,确定没问题,启动;&lt;/p&gt;

&lt;h3 id=&quot;登录服务器&quot;&gt;登录服务器&lt;/h3&gt;

&lt;p&gt;定制完成后，就可以远程登录了。在实例上右击，点击连接。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540354787.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;点击连接,会弹出一个框,具体的信息框,如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540354896.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;cd 到 秘钥文件也就是 &lt;code class=&quot;highlighter-rouge&quot;&gt;name.pem&lt;/code&gt;文件夹,然后输入以下命令,获得读写权限;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;chmod 400 name.pem
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后复制,上图的示例,点击回车,就会进去;&lt;/p&gt;

&lt;h4 id=&quot;登录权限问题&quot;&gt;登录权限问题&lt;/h4&gt;

&lt;p&gt;注意,你没有获得 &lt;code class=&quot;highlighter-rouge&quot;&gt;pem&lt;/code&gt;秘钥对的读写权限,就会报错,如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540355418.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;成功登录服务器,终端会显示如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540355479.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;服务端安装shadowsocks&quot;&gt;服务端安装Shadowsocks&lt;/h3&gt;

&lt;p&gt;依次在终端输入以下命令:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;# 获取root权限
sudo -s
# 更新apt-get
apt-get update
# 安装python包管理工具
apt-get install python-setuptools
apt-get install python-pip
# 安装shadowsocks
pip install shadowsocks
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;注意&lt;/code&gt;:获取root权限后,光标前面的美元符号会变成#,并且最前面的账户就是&lt;code class=&quot;highlighter-rouge&quot;&gt;Root&lt;/code&gt;就是下面这个样子:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540355825.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;服务端配置shadowsocks&quot;&gt;服务端配置Shadowsocks&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;查看SSServer位置&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;which ssserver
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;会得到这个&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;/usr/local/bin/ssserver
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;创建配置文件&quot;&gt;创建配置文件&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;mkdir /etc/shadowsocks
vim /etc/shadowsocks/ss.json
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;配置文件内容&quot;&gt;配置文件内容&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;{
&quot;server&quot;:&quot;0.0.0.0&quot;,
&quot;server_port&quot;:443, //ss连接服务器的端口
&quot;local_address&quot;:&quot;127.0.0.1&quot;,
&quot;local_port&quot;:1080,
&quot;password&quot;:&quot;111111&quot;, // 设置ss连接时的密码
&quot;timeout&quot;:300,
&quot;method&quot;:&quot;aes-256-cfb&quot;,//加密方法,还有好多,这里默认这个
&quot;fast_open&quot;:false,
&quot;workers&quot;: 1
}
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;加密方法:默认&lt;code class=&quot;highlighter-rouge&quot;&gt;aes-256-cfb&lt;/code&gt;,&lt;a href=&quot;https://github.com/shadowsocks/shadowsocks/wiki/Encryption&quot;&gt;更多参考&lt;/a&gt;;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;workers:允许使用的人数,仅仅支持Unix,&lt;a href=&quot;https://github.com/shadowsocks/shadowsocks/wiki/Workers&quot;&gt;workers&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;服务端启动shadowsocks&quot;&gt;服务端启动Shadowsocks&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;启动：
    &lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;sudo /usr/local/bin/ssserver -c /etc/shadowsocks/ss.json -d start
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;停止：
    &lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;sudo /usr/local/bin/ssserver -c /etc/shadowsocks/ss.json -d stop 
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;重启：
    &lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;sudo /usr/local/bin/ssserver -c /etc/shadowsocks/ss.json -d restart
&lt;/code&gt;&lt;/pre&gt;
  &lt;/li&gt;
  &lt;li&gt;设置开机启动&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;sudo vi /etc/rc.local
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;rc.local&lt;/code&gt;文件末尾添加以下代码:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Shell&quot;&gt;sudo /usr/local/bin/ssserver 
-c /etc/shadowsocks/ss.json -d start
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;配置服务端遇到的问题&quot;&gt;配置服务端遇到的问题&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Shadowsocks无法启动,报错&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&quot;language-Python&quot;&gt;AttributeError: /usr/lib/x86_64-linux-gnu/libcrypto.so.1.1: undefined symbol: EVP_CIPHER_CTX_cleanup
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;主要是内置的python中的openssl文件的cleanup函数过期,需要修改;&lt;/p&gt;

&lt;h4 id=&quot;解决办法&quot;&gt;解决办法&lt;/h4&gt;
&lt;h4 id=&quot;打开openssl文件&quot;&gt;打开openssl文件&lt;/h4&gt;
&lt;p&gt;用vim打开文件：((以下路径可以根据自己的系统情况自行修改))
&lt;code class=&quot;highlighter-rouge&quot;&gt;vim /usr/local/lib/python2.7/dist-packages/shadowsocks/crypto/openssl.py &lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&quot;搜索关键字并修改&quot;&gt;搜索关键字并修改&lt;/h4&gt;
&lt;p&gt;直接搜索关键字:&lt;code class=&quot;highlighter-rouge&quot;&gt;EVP_CIPHER_CTX_cleanup&lt;/code&gt;,一共有2处;&lt;/p&gt;

&lt;p&gt;进入编辑模式将
&lt;code class=&quot;highlighter-rouge&quot;&gt;libcrypto.EVP_CIPHER_CTX_cleanup.argtypes = (c_void_p,) &lt;/code&gt;&lt;/p&gt;

&lt;p&gt;改为
&lt;code class=&quot;highlighter-rouge&quot;&gt;libcrypto.EVP_CIPHER_CTX_reset.argtypes = (c_void_p,)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;其实就是把 &lt;code class=&quot;highlighter-rouge&quot;&gt;cleanup&lt;/code&gt; 改为&lt;code class=&quot;highlighter-rouge&quot;&gt;reset&lt;/code&gt;,就可以了;
保存并退出,重新启动就行;
完美解决;&lt;/p&gt;

&lt;p&gt;然后,重新启动SS,就成功了;
至此,服务端基本就设置完了;&lt;/p&gt;

&lt;h3 id=&quot;电脑配置&quot;&gt;电脑配置&lt;/h3&gt;

&lt;p&gt;在&lt;a href=&quot;https://shadowsocks.org/en/download/clients.html&quot;&gt;shadowsocks&lt;/a&gt;下载最新版本;就是一个绿色小飞机;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540357101.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;下载后,打开,然后配置账户和服务信息&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/1540357372.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;密码就是刚才在服务器设置&lt;code class=&quot;highlighter-rouge&quot;&gt;ss.json&lt;/code&gt;中的密码,包括加密方式;不要填错了;&lt;/p&gt;

&lt;p&gt;配置完成后,启动客户端,访问goole,就可以了;&lt;/p&gt;

&lt;p&gt;基本是秒开google;&lt;/p&gt;

&lt;h3 id=&quot;手机配置&quot;&gt;手机配置&lt;/h3&gt;

&lt;p&gt;国内的APP Store VPN配置APP基本都下线了,建议某宝购买一个国外的appleID,下载一下这个哥们;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/potatsoVPN.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;配置基本跟电脑差不多,如下:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://yizhibi.6chemical.com/lucyBlog/google/WechatIMG48.jpeg&quot; alt=&quot;手机配置&quot; /&gt;&lt;/p&gt;

&lt;p&gt;也可以通过扫描电脑SS配置的二维码直接保存;&lt;/p&gt;

&lt;h3 id=&quot;最后防止aws到期或者意外扣费&quot;&gt;最后防止AWS到期或者意外扣费&lt;/h3&gt;

&lt;p&gt;这个&lt;a href=&quot;https://www.zhihu.com/question/22543732&quot;&gt;知友&lt;/a&gt;遇到信用卡被口几千刀,我们得注意一下,到期或者收到账单劲爆及时登录控制台查看信息;&lt;/p&gt;
</description>
        <pubDate>Wed, 24 Oct 2018 06:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/10/24/%E8%B6%85%E8%AF%A6%E7%BB%86%E5%9B%BE%E6%96%87%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BAVPS,VPN%E9%85%8D%E7%BD%AE/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/10/24/%E8%B6%85%E8%AF%A6%E7%BB%86%E5%9B%BE%E6%96%87%E5%85%8D%E8%B4%B9%E6%90%AD%E5%BB%BAVPS,VPN%E9%85%8D%E7%BD%AE/</guid>
        
        <category>VPS</category>
        
        <category>工具</category>
        
        
      </item>
    
      <item>
        <title>个人博客中添加点击爱心效果</title>
        <description>&lt;p&gt;文章首发个人博客,转载参考注明来源&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;浏览别人的博客,看到比较好的体验或者小功能,就想也加到自己的博客中,比如之前的背景动画,还有这个鼠标点击的爱心动画,我感觉挺有意思的,就实践一下;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;最终效果&quot;&gt;最终效果&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/loveanimation.gif?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;mac-安装jekyll&quot;&gt;Mac 安装Jekyll&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;之所以安装Jekyll,完全是为了便于本地调试;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;按照&lt;a href=&quot;https://jekyllcn.com/docs/quickstart/&quot;&gt;Jekyll官网指南&lt;/a&gt;,启动终端,输入如下命令:&lt;/p&gt;

&lt;h4 id=&quot;mac安装&quot;&gt;mac安装&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gem install jekyll&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;如果没有权限,就用下面这个:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo gem install jekyll&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;查看Jekyll版本&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll --version&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;启动jekyll&quot;&gt;启动Jekyll&lt;/h4&gt;

&lt;p&gt;首先 cd 到你的个人博客根目录下,然后输入如下命令:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;成功的话,就能看到下面的结果:打开浏览器输入如下的地址,就能看到效果了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/1539836194.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;爱心点击添加&quot;&gt;爱心点击添加&lt;/h3&gt;

&lt;h4 id=&quot;创建lovejs文件&quot;&gt;创建&lt;code class=&quot;highlighter-rouge&quot;&gt;love.js&lt;/code&gt;文件&lt;/h4&gt;

&lt;p&gt;复制如下代码,copy到&lt;code class=&quot;highlighter-rouge&quot;&gt;love.js&lt;/code&gt;文件中,然后保存;&lt;a href=&quot;https://asdfv1929.github.io/2018/01/26/click-love/&quot;&gt;代码来源&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-JS&quot;&gt;!function(e,t,a){function n(){c(&quot;.heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}&quot;),o(),r()}function r(){for(var e=0;e&amp;lt;d.length;e++)d[e].alpha&amp;lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText=&quot;left:&quot;+d[e].x+&quot;px;top:&quot;+d[e].y+&quot;px;opacity:&quot;+d[e].alpha+&quot;;transform:scale(&quot;+d[e].scale+&quot;,&quot;+d[e].scale+&quot;) rotate(45deg);background:&quot;+d[e].color+&quot;;z-index:99999&quot;);requestAnimationFrame(r)}function o(){var t=&quot;function&quot;==typeof e.onclick&amp;amp;&amp;amp;e.onclick;e.onclick=function(e){t&amp;amp;&amp;amp;t(),i(e)}}function i(e){var a=t.createElement(&quot;div&quot;);a.className=&quot;heart&quot;,d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement(&quot;style&quot;);a.type=&quot;text/css&quot;;try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName(&quot;head&quot;)[0].appendChild(a)}function s(){return&quot;rgb(&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;,&quot;+~~(255*Math.random())+&quot;)&quot;}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;博客中调用&quot;&gt;博客中调用&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;Jekyll驱动的博客调用&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;将&lt;code class=&quot;highlighter-rouge&quot;&gt;love.js&lt;/code&gt;文件移动到如下目录:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/js/src/love.js&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;然后打开&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts/default.html&lt;/code&gt;,找到最后一行,有&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;的前面,添加调用&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-JS&quot;&gt;&amp;lt;!--鼠标点击爱心动画--&amp;gt;
&amp;lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/love.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;最后保存启动本地测试,就能看到效果了,如果没有,就需要修改调试;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Hexo驱动的博客调用&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Hexo驱动的博客,只是调用方式以及修改的代码不同,JS文件是相同的;&lt;/p&gt;

&lt;p&gt;将love.js文件移动到如下目录:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/themes/next/source/js/src&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;修改_layout.swig文件,在/themes/next/layout/_layout.swig文件末尾添加：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-JS&quot;&gt;&amp;lt;!--鼠标点击爱心动画--&amp;gt;
&amp;lt;script type=&quot;text/javascript&quot; src=&quot;/js/src/love.js&quot;&amp;gt;&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;基本上启动,就能看到效果了;&lt;/p&gt;

&lt;p&gt;结束,如果在添加的过程中,有问题,欢迎留言;&lt;/p&gt;
</description>
        <pubDate>Thu, 18 Oct 2018 06:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/10/18/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E7%88%B1%E5%BF%83%E6%95%88%E6%9E%9C/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/10/18/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%E7%82%B9%E5%87%BB%E7%88%B1%E5%BF%83%E6%95%88%E6%9E%9C/</guid>
        
        <category>Linux</category>
        
        <category>博客</category>
        
        <category>工具</category>
        
        
      </item>
    
      <item>
        <title>jekyll个人博客中添加音乐播放插件</title>
        <description>&lt;p&gt;文章首发&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;个人博客&lt;/a&gt;,转载参考注明来源&lt;a href=&quot;https://yizibi.github.io/2018/10/15/jekyll%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E6%8F%92%E4%BB%B6/&quot;&gt;jekyll个人博客中添加音乐播放插件&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;最近在打理自己的博客,突发奇想,想在博客里播放音乐;想着应该可以实现吧;感觉有时候,复习笔记,听着音乐,好有感觉的样子;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;摸索过程&quot;&gt;摸索过程&lt;/h3&gt;

&lt;h4 id=&quot;iframe标签尝试&quot;&gt;iframe标签尝试&lt;/h4&gt;

&lt;p&gt;因为,平时都用&lt;code class=&quot;highlighter-rouge&quot;&gt;markdown&lt;/code&gt;记录,就搜了一下,markdown支持播放音乐;&lt;/p&gt;

&lt;p&gt;就搜到&lt;a href=&quot;https://www.sunyazhou.com/2017/12/27/20171227markdown-audio/&quot;&gt;这篇文章&lt;/a&gt;,主要说的是,用&lt;code class=&quot;highlighter-rouge&quot;&gt;iframe&lt;/code&gt;这个标签,来实现;因为&lt;code class=&quot;highlighter-rouge&quot;&gt;markdown&lt;/code&gt;其实就是 一种&lt;code class=&quot;highlighter-rouge&quot;&gt;html&lt;/code&gt;的转换语法,内部也同时支持直接写html标签;&lt;/p&gt;

&lt;p&gt;然而,我尝试了一下,不行;网上大部分都是网易云音乐插件播放的;&lt;/p&gt;

&lt;p&gt;特点就是 UI 好看;不妨,你也可以试试,反正我失败了;&lt;/p&gt;

&lt;h4 id=&quot;jekyllcodex插件尝试&quot;&gt;jekyllcodex插件尝试&lt;/h4&gt;
&lt;p&gt;我又尝试了其他的办法,我在想,是不是不同的博客驱动,底层对&lt;code class=&quot;highlighter-rouge&quot;&gt;html&lt;/code&gt;解析也不近相同,想到这里,我换了关键词搜索,然后就看到&lt;a href=&quot;https://leohope.com/%E8%A7%A3%E9%97%AE%E9%A2%98/2018/06/04/music-player/&quot;&gt;这篇文章&lt;/a&gt;,我的技术好友&lt;a href=&quot;https://leohope.com/&quot;&gt;Hope&lt;/a&gt;写的不错,基本可以实现在博客中播放音乐,不过文章中的最后需要在 &lt;code class=&quot;highlighter-rouge&quot;&gt;_layout.html&lt;/code&gt;文件中添加代码的,跟官网不一样,估计是 JS 文件调用充重复,作者没有写;我按照&lt;a href=&quot;https://jekyllcodex.org/without-plugin/open-embed/&quot;&gt;官网&lt;/a&gt;上的,可以正常显示;&lt;/p&gt;

&lt;h3 id=&quot;环境要求&quot;&gt;环境要求&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;jekyll&lt;/li&gt;
  &lt;li&gt;七牛&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;开始使用&quot;&gt;开始使用&lt;/h3&gt;

&lt;h4 id=&quot;step1&quot;&gt;step1&lt;/h4&gt;

&lt;p&gt;首先下载这个文件&lt;a href=&quot;https://raw.githubusercontent.com/jhvanderschee/jekyllcodex/gh-pages/_includes/open-embed.html&quot;&gt;open-embed.html&lt;/a&gt;,右键,另存为&lt;code class=&quot;highlighter-rouge&quot;&gt;Html&lt;/code&gt;;下面是源码,也可以复制保存下面的源码;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Html&quot;&gt;&amp;lt;style&amp;gt;
.videoWrapper {
	position: relative;
	padding-bottom: 56.333%;
	height: 0;
    background: black;
}
.videoWrapper iframe {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
    border: 0;
}    
&amp;lt;/style&amp;gt;

&amp;lt;script&amp;gt;
function get_youtube_id(url) {
    var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&amp;amp;v=))((\w|-){11})(?:\S+)?$/;
    return (url.match(p)) ? RegExp.$1 : false;
}
function vimeo_embed(url,el) {
    var id = false;
    $.ajax({
      url: 'https://vimeo.com/api/oembed.json?url='+url,
      async: true,
      success: function(response) {
        if(response.video_id) {
          id = response.video_id;
          if(url.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
          if(url.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
          var theInnerHTML = '&amp;lt;div class=&quot;videoWrapper&quot;&amp;gt;&amp;lt;iframe src=&quot;https://player.vimeo.com/video/'+id+'/?byline=0&amp;amp;title=0&amp;amp;portrait=0';
          if(autoplay==1) theInnerHTML += '&amp;amp;autoplay=1';
          if(loop==1) theInnerHTML += '&amp;amp;loop=1';
          theInnerHTML += '&quot; webkitallowfullscreen mozallowfullscreen allowfullscreen&amp;gt;&amp;lt;/iframe&amp;gt;&amp;lt;/div&amp;gt;'; 
          el.innerHTML = theInnerHTML;
        }
      }
    });
}
function video_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i &amp;lt; p.length; i++) {
        //check if this is an external url (that starts with https:// or http://
        if (p[i].innerHTML.indexOf(&quot;http://&quot;) == 0 ||
            p[i].innerHTML.indexOf(&quot;https://&quot;) == 0) {
            var youtube_id = get_youtube_id(p[i].innerHTML);
            if(youtube_id) {
                if(p[i].innerHTML.indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(p[i].innerHTML.indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                var theInnerHTML = '&amp;lt;div class=&quot;videoWrapper&quot;&amp;gt;&amp;lt;iframe width=&quot;720&quot; height=&quot;420&quot; src=&quot;https://www.youtube.com/embed/' + youtube_id + '?rel=0&amp;amp;showinfo=0';
                if(autoplay==1) theInnerHTML += '&amp;amp;autoplay=1';
                if(loop==1) theInnerHTML += '&amp;amp;loop=1&amp;amp;playlist='+youtube_id+'&amp;amp;version=3';
                theInnerHTML += '&quot; frameborder=&quot;0&quot; allowfullscreen&amp;gt;&amp;lt;/iframe&amp;gt;&amp;lt;/div&amp;gt;';
                p[i].innerHTML = theInnerHTML;
            }
            if(p[i].innerHTML.indexOf('vimeo.com') !== -1) {
                //ask vimeo for the id and place the embed
                vimeo_embed(p[i].innerHTML,p[i]);
            }
        }
    }
}
video_embed();

function mp3_embed() {
    var p = document.getElementsByTagName('p');
    for(var i = 0; i &amp;lt; p.length; i++) {
        if(p[i].innerHTML.indexOf('.mp3') !== -1) {
            var str = p[i].innerHTML.split('?');
            if(str.length == 1) str[1] = '';
            var str1 = str[1];
            str1 = str1.replace('&amp;amp;','').replace('&amp;amp;','');
            str1 = str1.replace('autoplay=1','').replace('autoplay=0','');
            str1 = str1.replace('loop=1','').replace('loop=0','');
            str1 = str1.replace('controls=0','').replace('controls=1','');

            if (str[0].lastIndexOf('.mp3', str[0].length - 4) === str[0].length - 4 &amp;amp;&amp;amp; str1.length == 0) {
                if(str[1].indexOf('autoplay=1') !== -1) var autoplay=1; else var autoplay=0;
                if(str[1].indexOf('loop=1') !== -1) var loop=1; else var loop=0;
                if(str[1].indexOf('controls=0') !== -1) var controls=0; else var controls=1;
                var newInnerHTML = '&amp;lt;audio';
                if(autoplay==1) newInnerHTML += ' autoplay';
                if(loop==1) newInnerHTML += ' loop';
                if(controls==1) newInnerHTML += ' controls';
                newInnerHTML += '&amp;gt;&amp;lt;source src=&quot;'+str[0]+'&quot; type=&quot;audio/mpeg&quot;&amp;gt;Your browser does not support the audio element.&amp;lt;/audio&amp;gt;';
                p[i].innerHTML = newInnerHTML;
            }
        }
    }
}
mp3_embed();
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;step2&quot;&gt;step2&lt;/h4&gt;

&lt;p&gt;将上一步存储好的文件,保存到&lt;code class=&quot;highlighter-rouge&quot;&gt;_includes&lt;/code&gt;目录下,就像下面这个样子&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/blog_openembed.png?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;step3&quot;&gt;step3&lt;/h4&gt;

&lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts&lt;/code&gt;目录下,&lt;code class=&quot;highlighter-rouge&quot;&gt;default.html&lt;/code&gt;这个文件,打开,在最下面,找到对应的标签&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;/body&amp;gt;&lt;/code&gt;,加入如下代码,注意:标签不要重复了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/blog_step3.png-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;使用语法&quot;&gt;使用语法&lt;/h3&gt;

&lt;p&gt;借助七牛云之类的图床或云端存储，将需要的音乐文件上传至图床，并获得外链。&lt;/p&gt;

&lt;p&gt;然后，在Markdown中直接使用&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Html&quot;&gt;&amp;lt;p&amp;gt;音乐外链url&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;示例&quot;&gt;示例&lt;/h3&gt;
&lt;p&gt;按照上面的步骤走,即可获得如下效果的播放器（以下音乐为「西安人的歌」）&lt;/p&gt;

&lt;p&gt;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/xianrendege.mp3&lt;/p&gt;

&lt;p&gt;结束了;&lt;/p&gt;

&lt;p&gt;如果你在使用的过程中,遇到问题了,欢迎邮件或者给我留言,谢谢;&lt;/p&gt;
</description>
        <pubDate>Mon, 15 Oct 2018 11:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/10/15/jekyll%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E6%8F%92%E4%BB%B6/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/10/15/jekyll%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E4%B8%AD%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E6%8F%92%E4%BB%B6/</guid>
        
        <category>工具</category>
        
        <category>博客</category>
        
        
      </item>
    
      <item>
        <title>和你走过西安的那些地方</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;18年的国庆,前两天去了华山,真是累成狗;后面就比较舒服了;走马观花;有当年震惊中外的”西安事变”发生地;有周幽王烽火戏诸侯的骊山烽火台;有唐玄宗跟杨贵妃凄美的爱情故事;有钟楼,鼓楼.大唐芙蓉园等;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;西安,是我上大学的地方,是一座有悠久历史文化的古城,曾是13朝古都,古称”长安”;&lt;/p&gt;

&lt;p&gt;去西安玩,其实就是看历史去了,如果时间充裕,建议还是先去陕西历史博物馆,大概了解一下陕西西安的历史发展,这个博物馆是免费的,凭身份证领取门票,每天限量,人多的话,需要提前早上很早排队去领,人不多的话,就没事;看完,然后再去兵马俑,华清池,大雁塔,钟楼,鼓楼,回民街,永兴坊,小寨转转;&lt;/p&gt;

&lt;!--&lt;div align=life&gt; --&gt;
&lt;!--&lt;iframe frameborder=&quot;no&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=400 height=140 src=&quot;https://music.163.com/outchain/player?type=2&amp;id=34341360&amp;auto=0&amp;height=66&quot;&gt;&lt;/iframe&gt;--&gt;
&lt;!--&lt;/div&gt;--&gt;

&lt;h3 id=&quot;行程安排&quot;&gt;行程安排&lt;/h3&gt;

&lt;h4 id=&quot;座驾选择&quot;&gt;座驾选择&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;国营306&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;306&lt;/code&gt; 不知道什么时候变成公交车了,很久之前去的还是大巴车,不得不说,除了房价变得高,某些公交车,也变了;306 这个车需要往火车站那个方向,然后,穿过城墙底部,往东走,就能看到排队的,一般,排队最多的就是 306 了;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;914,915&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;这个是相对306的,306人排队人多,而你又比较时间紧,就这两个车,蓝色的,不要坐黑车去了,被西安火车站这边的黑导游给坑了;914,915,还好点;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;自驾&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;自驾就随意了,开车或者租车都行;&lt;/p&gt;

&lt;h4 id=&quot;路线&quot;&gt;路线&lt;/h4&gt;

&lt;p&gt;假节日期间就不要走 &lt;code class=&quot;highlighter-rouge&quot;&gt;西潼高速&lt;/code&gt; 了.车太多了;导航看看,不要选堵得就行;&lt;/p&gt;

&lt;p&gt;先去华清池,然后兵马俑,最后从兵马俑返回西安,如果看&lt;code class=&quot;highlighter-rouge&quot;&gt;长恨歌&lt;/code&gt;的话,就需要临潼睡一晚;&lt;/p&gt;

&lt;h4 id=&quot;门票预订&quot;&gt;门票预订&lt;/h4&gt;

&lt;p&gt;假节日出去玩,门票能在网上预订就订,看情况,有的景点必须兑换纸质门票,检票,这时候需要变通一下;今年,西安景区的门票价格都降了,华山,兵马俑都降了,唯独华清池涨了;个中原因是,把骊山跟华清池景点合并运营了,其实,这个骊山是我们学校后面的一座山,平时我们爬山都是从学校后面直接上山的;景区运营方为了利润最大化,把骊山跟华清池合并了;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;网上预订&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;之前因为,携程系负面消息太多,携程在手,说走走不了,现在我基本不用携程了,用支付宝,但是,&lt;code class=&quot;highlighter-rouge&quot;&gt;兵马俑&lt;/code&gt;门票一直提示我失败,最后选择了&lt;code class=&quot;highlighter-rouge&quot;&gt;美团&lt;/code&gt;提前订好;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;窗口售票&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;华清池,网上预订的门票必须取纸质门票,当天到华清池门口,取票比买票的人还多,因为,我就退了网上的门票,直接去窗口买;当然,现金是需要带一点了,有的窗口只支持现金售票;&lt;/p&gt;

&lt;h3 id=&quot;华清池&quot;&gt;华清池&lt;/h3&gt;

&lt;p&gt;华清池,位于临潼境内;临潼,这个地方,人杰地灵,看看古代就知道了,秦始皇沉眠此地,唐朝历代皇帝在这里修建避暑之地,当年蒋介石也在这里办公,震惊中外的西安事变,便发生在临潼华清池;现在,临潼还是官兵疗养的圣地,军区疗养院特别多;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2591.jpg?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;华清池,前前后后,跟朋友去了差不多5次,每次都有不一样的地方,这次最不一样,跟喜欢的人去浪,感觉就是不一样;之前跟舍友妈妈看了一次长恨歌,场面震撼,演杨贵妃的人就多达20个人,从杨贵妃进宫选为妃子,到安禄山以杨国忠奸臣为由,发动兵变,要求处死杨贵妃,就这样,唐朝一代美人,葬送马嵬坡;&lt;/p&gt;

&lt;h4 id=&quot;追古烁今&quot;&gt;追古烁今&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;回眸一笑百媚生，六宫粉黛无颜色&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/yangguifeidiaosu.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;华清池杨贵妃雕塑&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;七月七日长生殿，夜半无人私语时&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;长生殿有一个演出,据说是一个6D的演出,演的就是唐玄宗跟杨贵妃凄美的爱情故事,总共4幕,大概40min,有时间可以看下;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2414.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;华清池长生殿&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;七月七日遇仙桥&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2418.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;遇仙桥&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;连理树&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/huaqingchi_lianlishu.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;在地愿为连理枝&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这个是无意中看到一个小朋友的愿望&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2450.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;小朋友的愿望&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;转身,我要飞了&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/shengeyao.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;华清池,或者华清宫,里面沐浴的地方比较多,其中著名的就是”海棠汤”,专门是唐玄宗赐给杨贵妃沐浴的池子&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/haitangtang.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;海棠汤&quot; /&gt;&lt;/p&gt;

&lt;p&gt;尚食汤,专门供应御膳的官员沐浴的地方,内官也可以沐浴,中间有一道石墙隔开;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/shangshitnag.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;尚食汤&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;近代西安事变&quot;&gt;近代西安事变&lt;/h4&gt;

&lt;p&gt;在&lt;code class=&quot;highlighter-rouge&quot;&gt;西安事变&lt;/code&gt;之前,蒋介石曾经下榻华清池,其中五间厅就是他工作办公的地方&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2512.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;五间厅&quot; /&gt;&lt;/p&gt;

&lt;p&gt;会议室外面墙上的弹孔记录了当年西安事变的历史&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2528.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;弹孔&quot; /&gt;&lt;/p&gt;

&lt;p&gt;出了五间厅,到一个买东西的地方去了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2580.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;兵马俑&quot;&gt;兵马俑&lt;/h3&gt;

&lt;p&gt;从西安火车站坐车去临潼,会经过我的母校&lt;a href=&quot;https://www.xust.edu.cn/&quot;&gt;西安科技大学&lt;/a&gt;,校园还是挺美的,时间充裕的话,可以去看看,当做是追忆校园时光,时光不老,我们不散;&lt;/p&gt;

&lt;p&gt;306的车不会直接到兵马俑的入口,需要走一段时间,大概10min;&lt;/p&gt;

&lt;p&gt;门票建议网上预订,可以刷身份证直接进;&lt;/p&gt;

&lt;p&gt;这个是兵马俑门口&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/bingmayongmenkou.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;兵马俑门口&quot; /&gt;&lt;/p&gt;

&lt;p&gt;兵马俑总共有3个坑,分别是一号坑,二号坑和三号坑;我看过的,最震撼就是一号坑了,也是电视上出境最多的,3号坑,据历史考证,是指挥中心,古时排兵布阵的地方,相对于1,2号坑比较小;&lt;/p&gt;

&lt;h4 id=&quot;一号坑&quot;&gt;一号坑&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;一号坑,排列整齐,气势恢宏,威武雄壮,分为,中军,左右两翼,左右两边的士兵面向侧面,防止敌军侧翼突袭,令人望而生畏;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/yihaokeng.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;一号坑&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;侧翼&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/ceyi.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;近距离感受一下栩栩如生的兵马俑&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/bingmayongjinjuli.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;二号坑&quot;&gt;二号坑&lt;/h4&gt;

&lt;p&gt;二号坑的考古工作还在进行,目前开放都是一些顶部的棚木迹象的现状;由于目前技术尚未达到可以保存兵马俑出土时的彩色样子,因此,都暂停了兵马俑的发觉;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/erhaokeng.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;兵马俑刚出土时,是当地人打井时发现的,以为发现了什么怪人,全身彩色,跟真人没有什么差别,还把兵马俑吊在树上打,由此可见,秦朝当时的表面色彩处理技术;当时,刚出土时,国内考古跟德国技术合作,采用当时德国最先进的纳米技术,在兵马俑表面注入,也仅仅保存了30min;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/caise.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;彩色兵马俑&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;三号坑&quot;&gt;三号坑&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;三号坑指挥中心,古称”军幕”;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/sanhaokeng.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;兵马俑的意义&quot;&gt;兵马俑的意义&lt;/h4&gt;

&lt;p&gt;兵马俑被国人称之为”世界第八大奇迹”,我还以为真是”八大奇迹”,原来是,国际公认的&lt;a href=&quot;https://baike.baidu.com/item/%E4%B8%96%E7%95%8C%E5%85%AB%E5%A4%A7%E5%A5%87%E8%BF%B9&quot;&gt;世界七大奇迹百度百科&lt;/a&gt;;&lt;/p&gt;

&lt;p&gt;为什么要这么说呢?&lt;/p&gt;

&lt;p&gt;因为,我跟女票打赌?兵马俑是不是属于世界八大奇迹?我是从国内的角度来看,确实是被国人赞誉;但是世界范围来说,国际公认还是七大奇迹;我们也算平局;&lt;/p&gt;

&lt;p&gt;兵马俑的意义,一个是陶俑的艺术价值,现出土的兵马俑,包括之前的彩色兵马俑,神态各异,穿着,发型,身高达1.96米,两眼直视前方，威武霸气,给世界艺术史带来了不一样的风采,同时生动展现了,当时秦朝的风土人情,士气高昂的军队;&lt;/p&gt;

&lt;p&gt;另一个意义就是青铜兵器,经过铬化处理，虽然埋在埋土里两千多年，依然刃锋锐利，闪闪发光，原来是表面有一层厚10~15微米的致密的铬盐氧化层,具有良好的防腐抗锈性能.以往认为这一工艺是近现代才出现的,德国于1937年,美国于1950年发明了铬盐氧化处理技术,并先后获得专利.而我国远在两千年前的秦始皇时代已经创造了类似的工艺,可以视为世界冶金史上的奇迹。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/tongjian.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;铜剑&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;亚洲室内第一梯&quot;&gt;亚洲室内第一梯&lt;/h3&gt;

&lt;p&gt;这个号称亚洲室内第一梯的电梯,从一楼直达六楼美食街区的扶手电梯,全长50.3米,乘梯全程需1分45秒,位于小寨,出了地铁,走到赛格国际就能看到了;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2880.jpg?imageMogr2/thumbnail/!70p&quot; alt=&quot;亚洲室内第一梯&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;晨钟暮鼓---钟鼓楼&quot;&gt;晨钟暮鼓 - 钟鼓楼&lt;/h3&gt;

&lt;p&gt;西安是古时候的都城,素有”晨钟暮鼓”之说;击钟报晨，击鼓报暮;报晨开城门,开始活动,击鼓关城门,实行宵禁;&lt;/p&gt;

&lt;p&gt;而钟楼也是西安的市中心,以钟楼为中心,分别有东西南北大街,外围有城墙;&lt;/p&gt;

&lt;p&gt;鼓楼是城内明清建筑物的主要标志和代表之一。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/gulou.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;小吃街&quot;&gt;小吃街&lt;/h3&gt;

&lt;p&gt;这个回民街人就是多,听说没有永兴坊好玩,我们打算下次去,回民街就是牛羊肉泡馍好吃,什么老马家,老刘家,老米家,都不错的;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/huiminjie.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;大雁塔音乐喷泉&quot;&gt;大雁塔音乐喷泉&lt;/h3&gt;

&lt;p&gt;是亚洲雕塑规模最大的广场，广场内有2个百米长的群雕，8组大型人物雕塑，40块地景浮雕。&lt;/p&gt;

&lt;p&gt;世界最长的光带、世界首家直引水、规模最大的音响组合等多项纪录,&lt;a href=&quot;https://baike.baidu.com/item/%E5%A4%A7%E9%9B%81%E5%A1%94%E9%9F%B3%E4%B9%90%E5%96%B7%E6%B3%89&quot;&gt;来源百科词条&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;属于AAAAA级景点,晚上的喷泉更好看;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2899.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;行走在喷泉间的石径上,貌似在以行动说,别了.大西安….&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2906.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;国庆基本上就结束了,回去了休息一下,又得上班,好吧,我其实,不想上班,真的不想,可以吗,不可以!&lt;/p&gt;

&lt;p&gt;哈哈,当然,小和尚是可以的&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2746.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Sat, 13 Oct 2018 01:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/10/13/%E5%92%8C%E4%BD%A0%E8%B5%B0%E8%BF%87%E8%A5%BF%E5%AE%89%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9C%B0%E6%96%B9/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/10/13/%E5%92%8C%E4%BD%A0%E8%B5%B0%E8%BF%87%E8%A5%BF%E5%AE%89%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9C%B0%E6%96%B9/</guid>
        
        <category>生活</category>
        
        <category>随笔</category>
        
        <category>摄影</category>
        
        <category>旅行</category>
        
        
      </item>
    
      <item>
        <title>写完代码去旅行</title>
        <description>&lt;!--&lt;video src=&quot;http://o9zpq25pv.bkt.clouddn.com/videoResource/%E9%81%93%E7%94%9F%E5%8C%96%E5%B7%A5_%E6%88%90%E7%89%8702.mp4&quot; width=&quot;320&quot; height=&quot;240&quot; controls=&quot;controls&quot;&gt;--&gt;
&lt;!--Your browser does not support the video tag.--&gt;
&lt;!--&lt;/video&gt;--&gt;

&lt;p&gt;文章原创如需转载，请注明出处”本文首发于&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;”;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;我是一名IT开发,主要做iOS开发,工作期间,除了上厕所,开会,可能一坐就是一个上午,或者一个下午;之前办了健身卡,自从换了一个地方住,就没去过了;人,就是懒,总是给自己找各种理由;怎么办呢,我也很绝望?那就趁着国庆,出去转转,走走心!&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;西安人的歌 走起来&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/xianrendege.mp3&lt;/p&gt;

&lt;h2 id=&quot;18年的走心&quot;&gt;18年的走心&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;“清明节”, 恩,去了”西塘”;&lt;/li&gt;
  &lt;li&gt;“端午节”, 好像是去了 “周庄”;杭州去周庄,真是一番波折;&lt;/li&gt;
  &lt;li&gt;再下来就是,国庆节,去了西安;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;江南烟雨西北苍茫&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;总体感觉,可能真是沿海,长三角呆的时间久了,去了一趟西安,感觉,好干燥,嘴唇干裂,还是长三角适合养人,其实,相对而言,也就是,有水的地方,比较养人吧;&lt;/p&gt;

&lt;p&gt;一句话,总结就是:江南的烟雨楼台,西北的苍茫山河;&lt;/p&gt;

&lt;h2 id=&quot;行程安排&quot;&gt;行程安排&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tips:最好提前一个月或者两周订酒店,订机票或者火车票&lt;/code&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;时间&lt;/th&gt;
      &lt;th&gt;行程&lt;/th&gt;
      &lt;th&gt;住宿&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;9.30-10.1&lt;/td&gt;
      &lt;td&gt;杭州萧山-西咸机场&lt;/td&gt;
      &lt;td&gt;来喜酒店&lt;/td&gt;
      &lt;td&gt;性价比高 138¥&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.1-10.2&lt;/td&gt;
      &lt;td&gt;西安 - 华山&lt;/td&gt;
      &lt;td&gt;华山玉泉院旁边&lt;/td&gt;
      &lt;td&gt;那是个坑,待会说&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.2-10.3&lt;/td&gt;
      &lt;td&gt;华山 - 合阳&lt;/td&gt;
      &lt;td&gt;大荔县城&lt;/td&gt;
      &lt;td&gt;华山没有直达我家的车&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.3-10.4&lt;/td&gt;
      &lt;td&gt;大荔 - 合阳&lt;/td&gt;
      &lt;td&gt;我的家&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.4-10.6&lt;/td&gt;
      &lt;td&gt;合阳 - 西安&lt;/td&gt;
      &lt;td&gt;车站旁边的宾馆&lt;/td&gt;
      &lt;td&gt;一晚400+,太贵了&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.6-10.7&lt;/td&gt;
      &lt;td&gt;西咸机场 - 杭州萧山&lt;/td&gt;
      &lt;td&gt;杭州租房&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10.7&lt;/td&gt;
      &lt;td&gt;休息一天&lt;/td&gt;
      &lt;td&gt;开始上班&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;装备&quot;&gt;装备&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;尼康D7200单反;&lt;/li&gt;
  &lt;li&gt;挂机镜头 35mm F1.8定焦镜头,携带18-135mm,变焦镜头;&lt;/li&gt;
  &lt;li&gt;外套必带;&lt;/li&gt;
  &lt;li&gt;登山杖,手套(可选)&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;无后期不摄影&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;摄影有句话,叫,无后期不摄影,但是,咱时间宝贵,都是随便拍拍,感觉到了,就行了,以下多图,慎入;&lt;/p&gt;

&lt;h2 id=&quot;自古华山一条道&quot;&gt;自古华山一条道&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;五岳归来不看山,黄山归来不看岳&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;去年元旦,去了一趟黄山,还在黄山泡了一次温泉,今年看了下,黄山国庆真是人堵人;可是,我是元旦去的,本想着,看运气,有没有 &lt;code class=&quot;highlighter-rouge&quot;&gt;云海&lt;/code&gt; 被我撞见,虽然,天气很冷,但是,晴天,连 &lt;code class=&quot;highlighter-rouge&quot;&gt;雾凇 &lt;/code&gt;的美景也没看到;而且赶上,黄山西海大峡谷封闭,去的地方也不多,黄山的四绝:&lt;code class=&quot;highlighter-rouge&quot;&gt;奇松&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;怪石&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;云海&lt;/code&gt;、&lt;code class=&quot;highlighter-rouge&quot;&gt;温泉&lt;/code&gt;；除了云海没有看到,其他都可以领略到,以后有机会,还得再去一次;&lt;/p&gt;

&lt;p&gt;华山就不一样了,华山重在一个字–&lt;code class=&quot;highlighter-rouge&quot;&gt;险&lt;/code&gt;; 有在悬崖峭壁搭建的路,只容许一个人通过的 &lt;code class=&quot;highlighter-rouge&quot;&gt;长空栈道&lt;/code&gt;,还有几乎90°垂直,需要两手抓住铁链,脚在山崖上那个开凿的脚窝里才能走的&lt;code class=&quot;highlighter-rouge&quot;&gt;鹞子翻身&lt;/code&gt;;这两个地方,属于单向往返,人还特别多,我没体验成;本来是想去体验一下的;有机会,还是避开法定节假日;&lt;/p&gt;

&lt;h3 id=&quot;华山初探&quot;&gt;华山初探&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;一方水土养一方人&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;一方水土养一方人,靠山吃山,靠水吃水;一点也不假;&lt;/p&gt;

&lt;p&gt;一个有蓝田玉的县城,养活了一个蓝田县,那句熟悉的诗句:”&lt;code class=&quot;highlighter-rouge&quot;&gt;蓝田日暖玉生烟&lt;/code&gt;”;&lt;/p&gt;

&lt;h4 id=&quot;华山门票&quot;&gt;华山门票&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;门票&lt;/th&gt;
      &lt;th&gt;价格/¥&lt;/th&gt;
      &lt;th&gt;备注&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;大门票&lt;/td&gt;
      &lt;td&gt;160&lt;/td&gt;
      &lt;td&gt;学生证便宜&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;西峰索道&lt;/td&gt;
      &lt;td&gt;140&lt;/td&gt;
      &lt;td&gt;索道运行时间久,大概20min+&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;西线单程&lt;/td&gt;
      &lt;td&gt;40&lt;/td&gt;
      &lt;td&gt;索道下来不是在玉泉院,需要乘车去&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;华山线路&quot;&gt;华山线路&lt;/h4&gt;

&lt;blockquote&gt;
  &lt;p&gt;如果体力不行,建议,索道,考虑到成本,时间,采用北上西下,或者西上北下都是不错的;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;爬上爬下,也称徒步上山,从华山门走,也就是地图的中间线路;&lt;/li&gt;
  &lt;li&gt;也可以乘坐索道,西上西下或者西上北下;反之北上西下;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/blog/live/huashanline.jpg-shuiyin&quot; alt=&quot;华山地图&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;夜爬华山&quot;&gt;夜爬华山&lt;/h3&gt;

&lt;p&gt;华山,又叫,太华山,上山只有一条路,下午我们现在玉泉院下面玩了一会;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1163.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;玉泉院&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这个是华山正门,也就是从这里开始徒步爬山;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1233.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;自古华山一条道&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1184.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;爬山拉练&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;第一次看日出&quot;&gt;第一次看日出&lt;/h4&gt;

&lt;p&gt;华山日出也是全国九大观赏日出点,在山上有3个地点,都在东峰上,想看日出的基本都是夜爬华山;土豪随意,可以住在山上;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1320.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;华山门&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;气温指数 ☆☆☆☆☆☆&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tips&lt;/code&gt;:山上很冷,华山海拔2000+m,每升高1000m,气温下降6℃;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;穿衣指数 ☆☆☆☆☆☆&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;晚上爬华山的人很多,一路上都是人,一直走路的话,穿个外套,也不会感觉冷的;&lt;/p&gt;

&lt;p&gt;晚上的灯光,也挺漂亮的;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1305.jpg?imageMogr2/thumbnail/!70p&quot; alt=&quot;路边的霓虹灯&quot; /&gt;&lt;/p&gt;

&lt;p&gt;如果停下来,就感觉很冷,尤其是到山顶,凌晨4点~6点,10月份的气温,4℃左右;&lt;/p&gt;

&lt;p&gt;所以,不嫌麻烦的话,最好带个羽绒服,如果不想带,可以去山上租衣服,50¥,押金100¥,然后可以去&lt;code class=&quot;highlighter-rouge&quot;&gt;鹞子翻身&lt;/code&gt;处和&lt;code class=&quot;highlighter-rouge&quot;&gt;西峰&lt;/code&gt;还衣服;&lt;/p&gt;

&lt;p&gt;这个是华山的日出,本次华山的重头戏;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/huashan/huashanrichu.JPG-shuiyin&quot; alt=&quot;华山日出&quot; /&gt;&lt;/p&gt;

&lt;p&gt;群山远眺,这是在过了&lt;code class=&quot;highlighter-rouge&quot;&gt;鹞子翻身&lt;/code&gt;,在一个房顶拍的全景:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/huashan/huashanquanjing.jpg-shuiyin&quot; alt=&quot;群山远眺&quot; /&gt;&lt;/p&gt;

&lt;p&gt;良辰美景,怎么少得了佳人呢;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/huashan/huahsannanfeng.JPG-shuiyin&quot; alt=&quot;伊人阑珊望景&quot; /&gt;&lt;/p&gt;

&lt;p&gt;华山之所以叫 &lt;code class=&quot;highlighter-rouge&quot;&gt;爬山&lt;/code&gt;,还是因为一个字 &lt;code class=&quot;highlighter-rouge&quot;&gt;险&lt;/code&gt;,很多路段都是很长的60-80°的,需要手脚并用的,往上爬的,所以,叫 &lt;code class=&quot;highlighter-rouge&quot;&gt;爬山&lt;/code&gt;;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1665.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;途中,这位小朋友累的,栏杆就是她的好朋友;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1700.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;华山有很多这种链子,可以把心形锁或者平安锁,友情锁锁到上面;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1437.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;心形锁&quot; /&gt;&lt;/p&gt;

&lt;p&gt;还有,爬山随处可见的铁链;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/huashan/huashanlianzi.JPG-shuiyin&quot; alt=&quot;华山铁链&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;西峰莲花峰&quot;&gt;西峰莲花峰&lt;/h3&gt;

&lt;p&gt;莲花峰,又称为&lt;code class=&quot;highlighter-rouge&quot;&gt;圣母峰&lt;/code&gt;,有&lt;code class=&quot;highlighter-rouge&quot;&gt;沉香救母&lt;/code&gt;的故事一说;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1883.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;西峰远眺&quot; /&gt;&lt;/p&gt;

&lt;p&gt;西峰顶上,有一块大石头,俗称&lt;code class=&quot;highlighter-rouge&quot;&gt;开山石&lt;/code&gt;,也叫&lt;code class=&quot;highlighter-rouge&quot;&gt;斧劈石&lt;/code&gt;,断开的石头,就像一把锋利的斧头砍开一样;大自然真是 鬼斧神工;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1901.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;斧劈石&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;西峰索道&quot;&gt;西峰索道&lt;/h3&gt;

&lt;p&gt;西峰索道,绝对是我做过索道最胆战心惊的一次,索道,先下–后上–在下,每次那种失重的感觉,搞得我特别难受,尤其是下到很低了,又一会上到特别高,总之,我还担心,他一不小心,掉下去咋办;现在想想,笑哭我了;&lt;/p&gt;

&lt;p&gt;感受一下,这个距离,这个是上去的;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1985.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;西峰索道上&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这个是上到跟峰顶平了,然后翻过去;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1989.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;西峰索道下&quot; /&gt;&lt;/p&gt;

&lt;p&gt;东峰看完日出,途经鹞子翻身,南峰,走过南天门,就可以去走走&lt;code class=&quot;highlighter-rouge&quot;&gt;长空栈道&lt;/code&gt;,这次,于我而言,就远远看看就行了,因为,人太多了,而且是单行往返;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1518.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;鹞子翻身&quot; /&gt;&lt;/p&gt;

&lt;p&gt;下了鹞子翻身,就可以去这个小亭子看看,据说是宋太祖赵匡胤与另外一个人的残局,至今无解;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1578.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;棋亭残局&quot; /&gt;&lt;/p&gt;

&lt;p&gt;然后就是华山二险,光看这个说明,就知道长空栈道很险了;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1659.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;长空栈道说明&quot; /&gt;&lt;/p&gt;

&lt;p&gt;从西峰顺着那个有点长的路走下来,往下大概10min,就可以走到西峰索道了;&lt;/p&gt;

&lt;p&gt;我的小姐姐,出场了;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1935.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;比心小姐姐&quot; /&gt;&lt;/p&gt;

&lt;p&gt;神龟探海景观&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1938.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;神龟探海&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;小插曲&quot;&gt;小插曲&lt;/h3&gt;

&lt;p&gt;华山的玉米,水,都是挑山工背上去的,10¥,不算贵;那个大叔看着挺辛苦,也不容易,从山下背到山上,旁边的一个大姐说,山上的玉米卖 100¥ 也不贵,当然也是个玩笑;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1565.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;挑玉米的大叔&quot; /&gt;&lt;/p&gt;

&lt;p&gt;还碰到了玩小朋友的泡泡;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_1897.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;玩小朋友的泡泡&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;关中的小江南&quot;&gt;关中的小江南&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;关中&lt;/code&gt;,这个词,历史由来已久,据百度百科&lt;a href=&quot;https://baike.baidu.com/item/%E5%85%B3%E4%B8%AD/13464186&quot;&gt;关中&lt;/a&gt;是指“四关”之内，即东潼关（函谷关）、西散关（大震关）、南武关（蓝关）、北萧关（金锁关）。现关中地区位于陕西省中部,包括西安、宝鸡、咸阳、渭南、铜川、杨凌五市一区;&lt;/p&gt;

&lt;p&gt;而,我家就是在渭南;渭南什么都没有,就是有泾渭分明,指的是,渭河;
渭南什么都没有,就是有 &lt;code class=&quot;highlighter-rouge&quot;&gt;自古华山一条道&lt;/code&gt;;
渭南什么都没有,就是有,朗朗乾坤,平原千里;
渭南在西安的东北方向,距离西安大概40 50公里,而我家 &lt;code class=&quot;highlighter-rouge&quot;&gt;合阳&lt;/code&gt;县城;&lt;/p&gt;

&lt;p&gt;距离西安180公里,每年回家或者假节日回家,在纺织城排队永远是最多的人;
这个尴尬的地方,尴尬的家乡,属于边缘化县城,我们村,&lt;code class=&quot;highlighter-rouge&quot;&gt;行家庄&lt;/code&gt;,属于边缘中的边缘;
这都不是重点,重点是,要走出去,要让自己走出去,还要让农村的农产品走出去,我们县城有一个地方,离我们村不远,下时候,下个沟就到了,就5公里,俗称&lt;code class=&quot;highlighter-rouge&quot;&gt;关中的小江南&lt;/code&gt;,她的旁边还有一个温泉”处女泉”;&lt;/p&gt;

&lt;p&gt;我家的狗,见了我就跑,一脸我不认识你;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2096.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这次回家就去了莘国水城;&lt;/p&gt;

&lt;h3 id=&quot;莘国水城---诗经的地方&quot;&gt;莘国水城 - 诗经的地方&lt;/h3&gt;

&lt;p&gt;关关雎鸠,在河之洲;窈窕淑女,君子好逑;&lt;/p&gt;

&lt;p&gt;这个是小城门口;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2130.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;莘国水城&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这个叫,犹抱琵琶半遮面;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2272.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;犹抱琵琶半遮面&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这个是我小妹妹,在喂鱼,鱼料出手,鱼儿抢食;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2148.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;小妹喂鱼&quot; /&gt;&lt;/p&gt;

&lt;p&gt;这个比较有意思,叫 &lt;code class=&quot;highlighter-rouge&quot;&gt;呐喊喷泉&lt;/code&gt;,你喊的声音越大,喷泉喷得越高,你如果想发泄一下,这个倒是不错;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2325.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;呐喊喷泉&quot; /&gt;&lt;/p&gt;

&lt;p&gt;摔一碗酒,喝一口酒;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2332.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;摔碗酒&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;处女泉&quot;&gt;处女泉&lt;/h3&gt;

&lt;p&gt;处女泉来源于古老的传说,都是我奶奶小时候讲的,说是古代洽川的女子在出嫁前都要由姊妹陪伴到该泉洗浴净身。茂密的芦苇围成一道天然屏障&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2106.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;处女泉&quot; /&gt;&lt;/p&gt;

&lt;p&gt;倚楼听风雨;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/DSC_2218.jpg-shuiyin?imageMogr2/thumbnail/!70p&quot; alt=&quot;倚楼听风雨&quot; /&gt;&lt;/p&gt;

&lt;p&gt;有点长,兵马俑,华清池系列,放到下一篇文章整理;&lt;/p&gt;

&lt;!--## 兵马俑--&gt;

&lt;!--## 华清池--&gt;

&lt;!--## 大雁塔--&gt;

&lt;!--## 回民街--&gt;

&lt;!--## 小寨-亚洲第一梯--&gt;
</description>
        <pubDate>Wed, 10 Oct 2018 14:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/10/10/%E5%86%99%E5%AE%8C%E4%BB%A3%E7%A0%81%E5%8E%BB%E6%97%85%E8%A1%8Cmarkdown/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/10/10/%E5%86%99%E5%AE%8C%E4%BB%A3%E7%A0%81%E5%8E%BB%E6%97%85%E8%A1%8Cmarkdown/</guid>
        
        <category>生活</category>
        
        <category>随笔</category>
        
        <category>摄影</category>
        
        <category>旅行</category>
        
        
      </item>
    
      <item>
        <title>Mac 一步一步教你在Jekyll博客添加评论系统</title>
        <description>&lt;p&gt;文章原创如需转载，请注明出处”本文首发于&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;”;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;最近收拾了一下自己的博客系统,添加了一套基于&lt;code class=&quot;highlighter-rouge&quot;&gt;Github&lt;/code&gt;的评论&lt;a href=&quot;https://gitalk.github.io/&quot;&gt;gitalk&lt;/a&gt;,效果还不错,之前用的&lt;a href=&quot;https://disqus.com&quot;&gt;disqus&lt;/a&gt;由于其他原因,打不开了;其他评论系统,如&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;多说,多说已经关闭;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://changyan.kuaizhan.com/static/help/&quot;&gt;畅言&lt;/a&gt;,,畅言需要ICP备案;&lt;/li&gt;
  &lt;li&gt;网易云跟贴，曾被当作“多说”的替代品，可惜官方通报说也将在2017.08.01关闭了;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://disqus.com&quot;&gt;disqus&lt;/a&gt;，国外比较火的评论系统，但在国内墙了，故也不考虑。&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gitalk.github.io/&quot;&gt;gitalk&lt;/a&gt;,支持 markdown,类似 issue,依托 github,不太可能被和谐;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;考虑到自己的博客是基于github，并且国内几个比较主流的评论系统目前都无法在Github Pages上的个人博客使用， 无意间浏览别人的博客,发现了别人的博客评论,类似Github的issue,细查之下,我发现了gitalk，一款由国内大神imsun开发的基于github issues的评论系统;&lt;/p&gt;

&lt;h2 id=&quot;最终成果&quot;&gt;最终成果&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/gitalkComment.png&quot; alt=&quot;Gitalk&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;博主环境&quot;&gt;博主环境&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;MacOS High Serria&lt;/li&gt;
  &lt;li&gt;Jekyll驱动,原主题由&lt;a href=&quot;https://github.com/Huxpro/huxpro.github.io&quot;&gt;Hux&lt;/a&gt;提供,我在此基础上修改后的主题&lt;a href=&quot;https://github.com/yizibi/yizibi.github.io&quot;&gt;在这儿&lt;/a&gt;,你可以点击&lt;a href=&quot;https://github.com/yizibi/yizibi.github.io&quot;&gt;clone或者fork&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;申请一个github-oauth-application&quot;&gt;申请一个Github OAuth Application&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;Github头像下拉菜单 &amp;gt; Settings &amp;gt; 左边Developer settings下的OAuth Application &amp;gt; Register a new application，填写相关信息：&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;注意&lt;/code&gt;:我下面的截图是因为我已经有注册好的GitHubAPP,因此可能跟你的不一样,大概流程是一样的;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/gitsetingnext.png&quot; alt=&quot;Git创建APP&quot; /&gt;&lt;/p&gt;

&lt;p&gt;感谢这个&lt;a href=&quot;https://jacobpan3g.github.io/cn/2017/07/17/gitment-in-jekyll/&quot;&gt;作者文章&lt;/a&gt;,说明,博客网站的回调地址,一定要填写博客的域名,切记切记;&lt;/p&gt;
&lt;h2 id=&quot;在jekyll博客添加gitalk&quot;&gt;在jekyll博客添加gitalk&lt;/h2&gt;

&lt;h3 id=&quot;1博客源码目录&quot;&gt;1.博客源码目录&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;一般博客源码下载下基本都是以下的目录:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;
├── 404.html
├── CNAME
├── Gruntfile.js
├── LICENSE
├── README.md
├── README.zh.md
├── _config.yml
├── _includes
│   ├── about
│   │   ├── en.md
│   │   └── zh.md
│   ├── comments.html
│   ├── dashang.html
│   ├── footer.html
│   ├── head.html
│   ├── mathjax_support.html
│   ├── nav.html
│   └── posts
│       └── 2017-07-12-upgrading-eleme-to-pwa
│           ├── en.md
│           └── zh.md
├── _layouts
│   ├── default.html
│   ├── keynote.html
│   ├── page.html
│   └── post.html
├── _posts
│   ├── 2015-12-12-iOS中�\233��\211\207�\232\204�\234\206�\222设置\ .markdown
│   ├── 2016-01-16-AFNetworking�\212��\224\231415.markdown

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;2增加关键代码&quot;&gt;2.增加关键代码&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;你需要在 &lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts&lt;/code&gt; 下的&lt;code class=&quot;highlighter-rouge&quot;&gt;_post.html&lt;/code&gt;,打开这个html,最好用 sublime Text或者X-code打开,在代码的一开始,加入如下代码:&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&amp;lt;!--//添加评论系统--&amp;gt;
&amp;lt;link rel=&quot;stylesheet&quot; href=&quot;../../../../css/gitalk.css&quot;&amp;gt;
&amp;lt;script src=&quot;../../../../js/gitalk.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;这个脚本有 两个 文件 &lt;code class=&quot;highlighter-rouge&quot;&gt;gitalk.css&lt;/code&gt; 与 &lt;code class=&quot;highlighter-rouge&quot;&gt;gitalk.min.js&lt;/code&gt;,&lt;/p&gt;

&lt;p&gt;这两个文件在哪里呢;&lt;/p&gt;

&lt;p&gt;你需要把我的博客源码下载下载,找到对应的步骤,然后,把这两个文件分别放到对应的文件中,保存即可;&lt;/p&gt;

&lt;p&gt;当然了,你也可以用这个&lt;a href=&quot;https://imsun.github.io/gitment/style/default.css&quot;&gt;default.css&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;3添加评论框&quot;&gt;3.添加评论框&lt;/h3&gt;

&lt;p&gt;还是在那个 &lt;code class=&quot;highlighter-rouge&quot;&gt;_post.html&lt;/code&gt;文件中,找到 关键字 评论框 在下面添加 gitalk 代码,如下&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;




&amp;lt;!--   gitalk       --&amp;gt;

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;4添加鉴权代码&quot;&gt;4.添加鉴权代码&lt;/h3&gt;

&lt;p&gt;这个在 &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;中,打开这个文件,在对应的评论模块添加如下代码:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;# Disqus settings

# disqus_username: Lucy

# Netease settings
netease_comment: false
// 添加这个就行,上面的只是为了你能方便找到地方
gitalk:
enable: true
owner: ***zibi
repo: *****.github.io
clientID: ****c08c2ec52afbcb30
clientSecret: *******79e7b42cf782a1d2d1b5a410d27c5ab57
admin: **zibi

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;这些参数怎么来的,是第一步,通过github,申请的,同时,也是我们评论的用户鉴权;&lt;/p&gt;

&lt;p&gt;以上就是 在Jekyll中添加Gitalk评论系统,有什么不懂的,可以留言或者issue我;&lt;/p&gt;

</description>
        <pubDate>Wed, 26 Sep 2018 00:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/09/26/Mac-%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E6%95%99%E4%BD%A0%E5%9C%A8Jekyll%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/09/26/Mac-%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E6%95%99%E4%BD%A0%E5%9C%A8Jekyll%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/</guid>
        
        <category>Linux</category>
        
        <category>博客</category>
        
        
      </item>
    
      <item>
        <title>iOS给一张图片添加带有雷达效果的标记，类似地图标记位置</title>
        <description>&lt;p&gt;文章原创如需转载，请注明出处”本文首发于&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;”;&lt;/p&gt;

&lt;p&gt;引言&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;在实际开发过程中，往往有这样一种场景，比如，某一个地方需要添加一个标记，这个标记要足够醒目，一眼就可以让用户知道，标记的地方在哪里，就像百度地图或者谷歌地图里面的，用来标记用户位置的标记，以一种“雷达”效果，或者说“水波”效果，动态闪烁，引起用户的注意，并且，背景图片是可以放大的；&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;以上就是我们产品的需求，以下就是最终的实现效果；&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/image.gif&quot; alt=&quot;报警点展示&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;https://github.com/lucyios/CustomeUILib&quot;&gt;点击获取Demo&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;可行性&quot;&gt;可行性&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;在一张图片上添加一个==雷达效果==的一个标记，首先需要给图片添加标记，然后想办法在标记的地方(Point)，add 一个View;可行&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;需求分析&quot;&gt;需求分析&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;在一张已知的背景图上画一个标记，我首先想到的是，图片水印；&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;事实也就是那么回事，水印是在原有的图片添加另外一张图片，标记仅仅是一个纯色的图片而已&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;在标记的位置点，添加一个显示动画的View；&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;技术点&quot;&gt;技术点&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;添加标记&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;根据颜色生成一张图片，然后将生成的图片，绘制到背景图片上,具体需要用到&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;drawInrect：在哪里绘制图片&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;关键代码&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;
+ (instancetype)imageWithColor:(UIColor *)color
{
CGRect rect = CGRectMake(0.0f, 0.0f, 10.0f, 10.0f);
UIGraphicsBeginImageContext(rect.size);
CGContextRef context = UIGraphicsGetCurrentContext();
CGContextSetFillColorWithColor(context, [color CGColor]);
CGContextFillRect(context, rect);
UIImage *theImage = UIGraphicsGetImageFromCurrentImageContext();
UIGraphicsEndImageContext();
return theImage;
}

// 给图片添加标记
+ (UIImage *)imageWithOriginalName:(UIImage *)image signColor:(UIColor *)signColor signPositionX:(double)positionX ignPositionY:(double)positionY {

//1.获取图片
UIImage *signalImage = [[UIImage imageWithColor:signColor] circleImag];
//2.开启上下文
UIGraphicsBeginImageContextWithOptions(image.size, NO, 0);
//3.绘制背景图片
[image drawInRect:CGRectMake(0, 0, image.size.width, image.size.height)];
//绘制标记图片到当前上下文
CGFloat signX = positionX * image.size.width;
CGFloat signY = positionY * image.size.height;

CGRect rect = CGRectMake(signX, signY, 40, 40);
[signalImage drawInRect:rect];
//4.从上下文中获取新图片
UIImage * newImage = UIGraphicsGetImageFromCurrentImageContext();
//5.关闭图形上下文
UIGraphicsEndImageContext();
//返回图片
return newImage;
}


&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;定点位置，雷达动画的添加&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;具体实现可以参考文章，基本原理就是，将单一动画利用循环，创建多次，组成动画组，依次添加，就可以实现最终的效果了；&lt;/p&gt;

&lt;h2 id=&quot;感谢&quot;&gt;[感谢]&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://www.cocoachina.com/ios/20180327/22778.html&quot;&gt;iOS动画-扩散波纹效果&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/zhengwenming/WMPhotoBrowser&quot;&gt;图片预览库WMPhotoBrowser&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 10 Sep 2018 06:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/09/10/iOS%E7%BB%99%E4%B8%80%E5%BC%A0%E5%9B%BE%E7%89%87%E6%B7%BB%E5%8A%A0%E5%B8%A6%E6%9C%89%E9%9B%B7%E8%BE%BE%E6%95%88%E6%9E%9C%E7%9A%84%E6%A0%87%E8%AE%B0-%E7%B1%BB%E4%BC%BC%E5%9C%B0%E5%9B%BE%E6%A0%87%E8%AE%B0%E4%BD%8D%E7%BD%AE/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/09/10/iOS%E7%BB%99%E4%B8%80%E5%BC%A0%E5%9B%BE%E7%89%87%E6%B7%BB%E5%8A%A0%E5%B8%A6%E6%9C%89%E9%9B%B7%E8%BE%BE%E6%95%88%E6%9E%9C%E7%9A%84%E6%A0%87%E8%AE%B0-%E7%B1%BB%E4%BC%BC%E5%9C%B0%E5%9B%BE%E6%A0%87%E8%AE%B0%E4%BD%8D%E7%BD%AE/</guid>
        
        <category>iOS技术</category>
        
        <category>iOS动画</category>
        
        
      </item>
    
      <item>
        <title>RabbitMQ在iOS中的应用</title>
        <description>&lt;p&gt;文章原创如需转载，请注明出处”本文首发于&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;”;&lt;/p&gt;

&lt;p&gt;引言&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;随着公司业务的需要，原来的推送，不能满足现有的要求，比如，有的公司需要局域网部署平台服务，不能访问外网，意味着，通过自带的 APNS远程推送服务，基本上就挂掉了;再比如，公司的某一个业务，需要实时刷新数据，如股票价格，报警实时监测数据等这种场景。这时候，就需要另辟蹊径；当然，我们有很多种选择，比如，RabbitMQ-实现了高级消息队列协议的开源消息代理软件，为啥要用这个呢，因为Android已经用这个做好了，所以，iOS 也没有其他选择了;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;在集成客户端的时候，我们有一些概念需要知道，如消息队列，生产者，消费者，交换器，队列,通道等；&lt;/p&gt;

&lt;h2 id=&quot;一rabbitmq-的相关概念&quot;&gt;一.RabbitMQ 的相关概念&lt;/h2&gt;

&lt;h3 id=&quot;11-简介&quot;&gt;1.1 简介&lt;/h3&gt;

&lt;p&gt;RabbitMQ 本质上是 MB（Message Broker) 消息代理，可以这么认为，&lt;a href=&quot;https://www.rabbitmq.com/tutorials/tutorial-one-objectivec.html&quot;&gt;RabbitMQ&lt;/a&gt;就像一个 “邮局”，负责收发存储邮包（消息），唯一与邮局不同的是，它不会处理消息内容&lt;/p&gt;

&lt;p&gt;==AMQP==，即Advanced Message Queuing Protocol，高级消息队列协议，是应用层协议的一个开放标准；类似Http,https,STMP这种，我们只需要知道，他是一个协议，实际开发中会遇到，底层实现我们不用管；&lt;/p&gt;

&lt;h3 id=&quot;12-mq的特征&quot;&gt;1.2 MQ的特征&lt;/h3&gt;

&lt;p&gt;RabbitMQ 是一个由 Erlang 语言开发的 AMQP 的开源实现。&lt;/p&gt;

&lt;p&gt;支持多种客户端，如：==Python、Ruby、.NET、Java、JMS、C、PHP、ActionScript、XMPP、STOMP，Object-C, Swift==等，支持AJAX。用于在分布式系统中存储转发消息，在易用性、扩展性、高可用性等方面表现不俗。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;可靠性（Reliability）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RabbitMQ 使用一些机制来保证可靠性，如持久化、传输确认、发布确认。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;灵活的路由（Flexible Routing）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;在消息进入队列之前，通过 Exchange 来路由消息的。对于典型的路由功能，RabbitMQ 已经提供了一些内置的 Exchange 来实现。针对更复杂的路由功能，可以将多个 Exchange 绑定在一起，也通过插件机制实现自己的 Exchange 。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;消息集群（Clustering）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;多个 RabbitMQ 服务器可以组成一个集群，形成一个逻辑 Broker 。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;高可用（Highly Available Queues）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;队列可以在集群中的机器上进行镜像，使得在部分节点出问题的情况下队列仍然可用。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;多种协议（Multi-protocol）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RabbitMQ 支持多种消息队列协议，比如 STOMP、MQTT 等等。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;多语言客户端（Many Clients）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RabbitMQ 几乎支持所有常用语言，比如 Java、.NET、Ruby, Object-C等等。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;管理界面（Management UI）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RabbitMQ 提供了一个易用的用户界面，使得用户可以监控和管理消息 Broker 的许多方面。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;跟踪机制（Tracing）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;如果消息异常，RabbitMQ 提供了消息跟踪机制，使用者可以找出发生了什么。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;插件机制（Plugin System）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;RabbitMQ 提供了许多插件，来从多方面进行扩展，也可以编写自己的插件。&lt;/p&gt;

&lt;h3 id=&quot;13-rabbitmq的概念模型&quot;&gt;1.3 RabbitMQ的概念模型&lt;/h3&gt;

&lt;p&gt;所有 MQ 产品从模型抽象上来说都是一样的过程：
消费者（consumer）订阅某个队列。生产者（producer）创建消息，然后发布到队列（queue）中，最后将消息发送到监听的消费者。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ-sendMessage.png&quot; alt=&quot;消息模型&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;AMQP的内部结构&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;上面介绍RabbitMQ是AMQP的实现，所以其内部也是AMQP的概念&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ/AMQP-image.png&quot; alt=&quot;RabbbitMQ的内部结构&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;P(Producer) 生产者，有的也称之为 Publisher,消息的发布者&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;发送消息的程序或者代码就是生产者，一般是 服务端&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ-producer.png&quot; alt=&quot;生产者&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Exchange(交换器)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;交换器，用来接收生产者发送的消息并将这些消息路由给服务器中的队列.生产者把消息发布到 Exchange 上，消息最终到达队列并被消费者接收，而 Binding 决定交换器的消息应该发送到那个队列。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;routing key&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;生产者在将消息发送给Exchange的时候，一般会指定一个routing key，来指定这个消息的路由规则，而这个routing key需要与Exchange Type及binding key联合使用才能最终生效。
在Exchange Type与binding key固定的情况下（在正常使用时一般这些内容都是固定配置好的），我们的生产者就可以在发送消息给Exchange时，通过指定routing key来决定消息流向哪里。
RabbitMQ为routing key设定的长度限制为255 bytes。
此外，这个 Key 值，一般是服务端跟客户端约定好的，可以是组织ID，也可以用ID&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Binding(绑定)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;绑定，用于消息队列和交换器之间的关联。一个绑定就是基于路由键将交换器和消息队列连接起来的路由规则，所以可以将交换器理解成一个由绑定构成的路由表。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Queue(队列)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;消息队列，用来保存消息直到发送给消费者。它是消息的容器，也是消息的终点。一个消息可投入一个或多个队列。消息一直在队列里面，等待消费者连接到这个队列将其取走。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Connection(连接)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;网络连接，比如一个TCP连接，RabbitMQ的OC CLient就是封装了 开源的TCP实现&lt;a href=&quot;https://github.com/robbiehanson/CocoaAsyncSocket&quot;&gt;CocoaAsyncSocket&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Channel(信道)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;信道，多路复用连接中的一条独立的双向数据流通道。信道是建立在真实的TCP连接内地虚拟连接，AMQP 命令都是通过信道发出去的，不管是发布消息、订阅队列还是接收消息，这些动作都是通过信道完成。因为对于操作系统来说建立和销毁 TCP 都是非常昂贵的开销，所以引入了信道的概念，以复用一条 TCP 连接。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Virtual Host(虚拟主机)
虚拟主机，表示一批交换器、消息队列和相关对象。虚拟主机是共享相同的身份认证和加密环境的独立服务器域。每个 vhost 本质上就是一个 mini 版的 RabbitMQ 服务器，拥有自己的队列、交换器、绑定和权限机制。vhost 是 AMQP 概念的基础，必须在连接时指定，RabbitMQ 默认的 vhost 是 /&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;C(Consumer) 消费者&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;订阅某个队列，消息的接受者&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ-consumer.png&quot; alt=&quot;消费者&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;14-rabbitmq-中的消息路由&quot;&gt;1.4 RabbitMQ 中的消息路由&lt;/h3&gt;
&lt;p&gt;生产者把消息发布到 Exchange 上，消息最终到达队列并被消费者接收，而 Binding 决定交换器的消息应该发送到那个队列。&lt;/p&gt;

&lt;p&gt;在绑定（Binding）Exchange与Queue的同时，一般会指定一个binding key；生产者将消息发送给Exchange时，一般会指定一个routing key；当binding key与routing key相匹配时，消息将会被路由到对应的Queue中。
在绑定多个Queue到同一个Exchange的时候，这些Binding允许使用相同的binding key。
binding key 并不是在所有情况下都生效，它依赖于Exchange Type，比如fanout类型的Exchange就会无视binding key，而是将消息路由到所有绑定到该Exchange的Queue。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ/MQroute.png&quot; alt=&quot;AMOP的消息路由&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;15-rabbitmq-的exchange-types&quot;&gt;1.5 RabbitMQ 的Exchange Types&lt;/h3&gt;

&lt;p&gt;RabbitMQ常用的Exchange Type有==fanout==、==direct==、==topic==、==headers==这四种（AMQP规范里还提到两种Exchange Type，分别为system与自定义，这里不予以描述），headers 匹配 AMQP 消息的 header 而不是路由键，此外 headers 交换器和 direct 交换器完全一致，但性能差很多，目前几乎用不到了，所以直接看另外三种类型：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;direct&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;direct类型的Exchange路由规则也很简单，它会把消息路由到那些binding key与routing key完全匹配的Queue中。&lt;/p&gt;

&lt;p&gt;相关代码如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;/** 创建信道 */
id&amp;lt;RMQChannel&amp;gt; ch = [_conn createChannel];
/** 创建交换器，direct方法，这个需要跟后台保持一致，包括交换器的名称，也要跟后台约定好，还有配置选项，是否持久化等 */
RMQExchange *x = [ch  direct:@&quot;Mobile_Alarm&quot; options:(RMQExchangeDeclareNoOptions)];
/** 创建队列，如果不指定队列名称，MQ会默认自动创建一个队列，前缀以 `rmq-objc-client.gen-` 开头 */
RMQQueue *q = [ch queue:@&quot;&quot; options:RMQQueueDeclareExclusive | RMQQueueDeclareAutoDelete];
/** 队列绑定交换器，并指定 rountKey，需要跟后台指定相同的规则，可以是用户ID等 */
[q bind:x routingKey:@&quot;5&quot;];

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ-Direct.png&quot; alt=&quot;Exchange Direct类型&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;fanout
这种类型的Exchange,就是群发，此exchange的路由规则很简单直接将消息路由到所有绑定的队列中，无须对消息的routingkey进行匹配操作。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ%20fanout.png&quot; alt=&quot;Exchange fanout类型&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;/**  需要注意：&amp;lt;RMQConnectionDelegate&amp;gt; 如果创建连接，指定代理是 当前class,那么当前class需要遵守连接的代理协议，并实现相关代理方法*/

/** 创建连接 */
RMQConnection *conn = [[RMQConnection alloc] initWithUri:url5 delegate:self];
[conn start];
/** 创建信道 */
id&amp;lt;RMQChannel&amp;gt; ch = [conn createChannel];
/** 创建交换器 */
RMQExchange *x = [ch fanout:@&quot;Alarm&quot;];
RMQQueue *q = [ch queue:@&quot;&quot; options:RMQQueueDeclareExclusive];
/** 绑定交换器 */
[q bind:x];
/** 订阅消息 */
[q subscribe:^(RMQMessage * _Nonnull message) {
NSLog(@&quot;Received %@&quot;, [[NSString alloc] initWithData:message.body encoding:NSUTF8StringEncoding]);
}];

///socket 连接失败回调，超时或者地址有误
- (void)connection:(RMQConnection *)connection failedToConnectWithError:(NSError *)error;
/// 没有连接成功回调
- (void)connection:(RMQConnection *)connection disconnectedWithError:(NSError *)error;
/// 自动恢复连接调用
- (void)willStartRecoveryWithConnection:(RMQConnection *)connection;
/// 正在开始恢复连接
- (void)startingRecoveryWithConnection:(RMQConnection *)connection;
/// 已经恢复连接的时候，调用
- (void)recoveredConnection:(RMQConnection *)connection;
/// 连接过程中，信道异常调用
- (void)channel:(id&amp;lt;RMQChannel&amp;gt;)channel error:(NSError *)error;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Topic&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;前面讲到direct类型的Exchange路由规则是完全匹配binding key与routing key，但这种严格的匹配方式在很多情况下不能满足实际业务需求。topic类型的Exchange在匹配规则上进行了扩展，它与direct类型的Exchage相似，也是将消息路由到binding key与routing key相匹配的Queue中，但这里的匹配规则有些不同，它约定：&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;routing key为一个句点号“. ”分隔的字符串（我们将被句点号“. ”分隔开的每一段独立的字符串称为一个单词），如“device.userId”、“alarm.type”，
binding key与routing key一样也是句点号“. ”分隔的字符串
binding key中可以存在两种特殊字符“&lt;em&gt;”与“#”，用于做模糊匹配，其中“&lt;/em&gt;”用于匹配一个单词，“#”用于匹配多个单词（可以是零个）&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;RMQConnection * connection = [[RMQConnection alloc] initWithUri:url delegate:[RMQConnectionDelegateLogger new]];
[connection start];
id&amp;lt;RMQChannel&amp;gt;channel = [connection createChannel];
RMQExchange * exchange = [channel topic:@&quot;topic_logs&quot; options:RMQExchangeDeclarePassive];
[exchange publish:finalData routingKey:[NSString stringWithFormat:@&quot;device.%@&quot;,didStr]];
[connection close];

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/MQ%20topic%20Type.png&quot; alt=&quot;Topic 类型&quot; /&gt;&lt;/p&gt;

&lt;p&gt;以上图中的配置为例，routingKey=”dev.alarm.device”的消息会同时路由到QA与QB，routingKey=”dev.alarm.type”的消息会路由到QA，routingKey=”lazy.brown.fox”的消息会路由到Q2，routingKey=”water.type.ID”的消息会路由到QB；routingKey=”device.user.water”、routingKey=”alarmtype”的消息将会被丢弃，因为它们没有匹配任何bindingKey。&lt;/p&gt;

&lt;h2 id=&quot;二rabbitmq-的集成&quot;&gt;二.RabbitMQ 的集成&lt;/h2&gt;

&lt;h3 id=&quot;21-客户端集成&quot;&gt;2.1 客户端集成&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/rabbitmq/rabbitmq-objc-client&quot;&gt;RabbitMQ官方Git仓库&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;我用的是CocoaPods集成,在 podfile 中添加：&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;pod 'RMQClient'

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;注意：&lt;/p&gt;

&lt;p&gt;RabbitMQ pod 内部有 &lt;a href=&quot;https://github.com/robbiehanson/CocoaAsyncSocket&quot;&gt;CocoaAsyncSocket&lt;/a&gt;,如果项目中，已经集成了，需要删除多余的&lt;/p&gt;

&lt;h3 id=&quot;22-源代码文件&quot;&gt;2.2 源代码文件&lt;/h3&gt;

&lt;p&gt;考虑到客户端架构的特殊性，需要将MQ消息订阅封装成一个工具,并配置为 单例 模式。&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;导入头文件  #import &lt;RMQClient.h&gt;&lt;/RMQClient.h&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;LXCustomRabbitMQManger.h&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;//开始订阅消息
- (void)startScribeMessage;
//关闭连接
- (void)closeConnection;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;LXCustomRabbitMQManger.m&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;@interface LXCustomRabbitMQManger()&amp;lt;RMQConnectionDelegate&amp;gt;

@property (nonatomic,strong) RMQConnection *conn;
@property (nonatomic,strong) LXCustomAlarmModel *alarmModel;

@end


- (void)startScribeMessage {
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(activeNotification:) name:UIApplicationDidBecomeActiveNotification object:nil];
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(backgroundNotification:) name:UIApplicationDidEnterBackgroundNotification object:nil];
}

- (void)closeConnection {
if (_conn) {
[self.conn close];
self.conn = nil;
}
}

//创建本地推送
- (void)registerNotification:(NSInteger )alerTime {
kweakSelf;
kStrongSelf;
// 使用 UNUserNotificationCenter 来管理通知
if (@available(iOS 10.0, *)) {
// 使用 UNUserNotificationCenter 来管理通知
UNUserNotificationCenter* center = [UNUserNotificationCenter currentNotificationCenter];
//需创建一个包含待通知内容的 UNMutableNotificationContent 对象，注意不是 UNNotificationContent ,此对象为不可变对象。
UNMutableNotificationContent* content = [[UNMutableNotificationContent alloc] init];
content.title = [NSString localizedUserNotificationStringForKey:self.alarmModel.alarm_type arguments:nil];
content.body = [NSString localizedUserNotificationStringForKey:self.alarmModel.geography
arguments:nil];
content.sound = [UNNotificationSound defaultSound];

// 在 alertTime 后推送本地推送
UNTimeIntervalNotificationTrigger* trigger = [UNTimeIntervalNotificationTrigger
triggerWithTimeInterval:alerTime repeats:NO];
UNNotificationRequest* request = [UNNotificationRequest requestWithIdentifier:@&quot;FiveSecond&quot;
content:content trigger:trigger];
//添加推送成功后的处理！
[center addNotificationRequest:request withCompletionHandler:^(NSError * _Nullable error) {
/*
DQAlertView *reservationAlert = [[DQAlertView alloc] initWithTitle:self.alarmModel.alarm_type
message:self.alarmModel.geography
delegate:self cancelButtonTitle:@&quot;取消&quot;
otherButtonTitles:@&quot;确定&quot;];

reservationAlert.shouldDimBackgroundWhenShowInView = YES;
reservationAlert.shouldDismissOnOutsideTapped = YES;
[reservationAlert show];
[reservationAlert actionWithBlocksCancelButtonHandler:^{


} otherButtonHandler:^{
//跳转
LXDeviceAlarmModel *alarmIDModel = [[LXDeviceAlarmModel alloc] init];
alarmIDModel.ID = strongSelf.alarmModel.ID;
LXDeviceDetailController *deviceDetailVC = [[LXDeviceDetailController alloc] init];
deviceDetailVC.deviceDealType = KearlyNoDealType;
deviceDetailVC.deviceAlarm = alarmIDModel;
[[self getCurrentVC].navigationController pushViewController:deviceDetailVC animated:YES];

}];
*/
UIAlertController *alert = [UIAlertController alertControllerWithTitle:self.alarmModel.alarm_type message:self.alarmModel.geography preferredStyle:UIAlertControllerStyleAlert];
UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:@&quot;取消&quot; style:UIAlertActionStyleCancel handler:nil];
UIAlertAction *confirmAction = [UIAlertAction actionWithTitle:@&quot;确定&quot; style:UIAlertActionStyleDefault handler:^(UIAlertAction * _Nonnull action) {
LXDeviceAlarmModel *alarmIDModel = [[LXDeviceAlarmModel alloc] init];
alarmIDModel.ID = strongSelf.alarmModel.ID;
LXDeviceDetailController *deviceDetailVC = [[LXDeviceDetailController alloc] init];
deviceDetailVC.deviceDealType = KearlyNoDealType;
deviceDetailVC.deviceAlarm = alarmIDModel;
[[self getCurrentVC].navigationController pushViewController:deviceDetailVC animated:YES];
}];
[alert addAction:cancelAction];
[alert addAction:confirmAction];
[[UIApplication sharedApplication].keyWindow.rootViewController presentViewController:alert animated:YES completion:nil];

}];
}
else {
UILocalNotification *notification = [[UILocalNotification alloc] init];
// 设置触发通知的时间
NSDate *fireDate = [NSDate dateWithTimeIntervalSinceNow:1];
NSLog(@&quot;fireDate=%@&quot;,fireDate);

notification.fireDate = fireDate;
// 时区
notification.timeZone = [NSTimeZone defaultTimeZone];
// 设置重复的间隔
notification.repeatInterval = kCFCalendarUnitSecond;

// 通知内容
notification.alertBody =  self.alarmModel.alarm_type;
notification.applicationIconBadgeNumber = 1;
// 通知被触发时播放的声音
notification.soundName = UILocalNotificationDefaultSoundName;
// 通知参数
NSDictionary *userDict = [NSDictionary dictionaryWithObject:self.alarmModel.geography forKey:@&quot;key&quot;];
notification.userInfo = userDict;

// ios8后，需要添加这个注册，才能得到授权
if ([[UIApplication sharedApplication] respondsToSelector:@selector(registerUserNotificationSettings:)]) {
UIUserNotificationType type =  UIUserNotificationTypeAlert | UIUserNotificationTypeBadge | UIUserNotificationTypeSound;
UIUserNotificationSettings *settings = [UIUserNotificationSettings settingsForTypes:type
categories:nil];
[[UIApplication sharedApplication] registerUserNotificationSettings:settings];
// 通知重复提示的单位，可以是天、周、月
notification.repeatInterval = NSCalendarUnitDay;
} else {
// 通知重复提示的单位，可以是天、周、月
notification.repeatInterval = NSDayCalendarUnit;
}
// 执行通知注册
[[UIApplication sharedApplication] scheduleLocalNotification:notification];

}

}

- (void)receiveRabbitServicerMessage {

//    NSString *url5 = @&quot;amqp://web_user:123@192.178.0.2:5672/device_log_2&quot;;
DebugLog(@&quot;MQ服务器地址:%@&quot;,url5);
if (_conn == nil) {
_conn = [[RMQConnection alloc] initWithUri:url5 delegate:self];
}
[_conn start];
id&amp;lt;RMQChannel&amp;gt; ch = [_conn createChannel];
RMQExchange *x = [ch  direct:@&quot;Mobile_Electric_Alarm&quot; options:(RMQExchangeDeclareNoOptions)];
RMQQueue *q = [ch queue:@&quot;&quot; options:RMQQueueDeclareExclusive | RMQQueueDeclareAutoDelete];
[q bind:x routingKey:kUserInfo.company_id];
kweakSelf;
[q subscribe:^(RMQMessage * _Nonnull message) {
id result = [[NSString alloc] initWithData:message.body encoding:NSUTF8StringEncoding];
NSDictionary *dict = [self dictionaryWithJsonString:result];
if ([dict isKindOfClass:[NSDictionary class]]) {
weakSelf.alarmModel = [LXCustomAlarmModel mj_objectWithKeyValues:dict];
[weakSelf registerNotification:1];
}
}];
}

- (void)emitLogDirect:(NSString *)msg severity:(NSString *)severity {
//    NSString *url5 = @&quot;amqp://web_user:123@192.178.0.2:5672/device_log_2&quot;;
DebugLog(@&quot;MQ发送服务器地址:%@&quot;,url5);
RMQConnection *conn = [[RMQConnection alloc] initWithUri:url5 delegate:self];
self.conn = conn;
[conn start];
id&amp;lt;RMQChannel&amp;gt; ch = [conn createChannel];
RMQExchange *x = [ch  direct:@&quot;Mobile_Electric_Alarm&quot; options:(RMQExchangeDeclareNoOptions)];
RMQQueue *q = [ch queue:@&quot;&quot; options:RMQQueueDeclareExclusive | RMQQueueDeclareAutoDelete];
[q bind:x routingKey:kUserInfo.company_id];
[x publish:[msg dataUsingEncoding:NSUTF8StringEncoding] routingKey:severity];
NSLog(@&quot;Sent '%@'&quot;, msg);
[conn close];
}

#pragma mark - 系统的通知监听
- (void)activeNotification:(NSNotification *)notification{
if (_conn == nil) {
//登录成功
if ([[LXUserInfoManger shareLXUserInfoManger].currentUserInfo.is_cloud isEqualToString:@&quot;0&quot;]) {
//MQ推送
[self receiveRabbitServicerMessage];
}
}
}
- (void)backgroundNotification:(NSNotification *)notification{
[self closeConnection];
}

- (void)connection:(RMQConnection *)connection failedToConnectWithError:(NSError *)error {
if (error) {
NSLog(@&quot;%@&quot;,error);
NSLog(@&quot;连接超时&quot;);
[self closeConnection];

}else{

}
}
- (void)connection:(RMQConnection *)connection disconnectedWithError:(NSError *)error {
if (error) {
NSLog(@&quot;%@&quot;,error);
}
else{
NSLog(@&quot;连接成功&quot;);
}
}
- (void)willStartRecoveryWithConnection:(RMQConnection *)connection {
DebugLog(@&quot;将要开始恢复链接&quot;);
}
- (void)startingRecoveryWithConnection:(RMQConnection *)connection {
DebugLog(@&quot;开始恢复链接&quot;);

}

- (void)recoveredConnection:(RMQConnection *)connection {
DebugLog(@&quot;恢复链接&quot;);

}
- (void)channel:(id&amp;lt;RMQChannel&amp;gt;)channel error:(NSError *)error {
if (error) {
NSLog(@&quot;%@&quot;,error);
[self closeConnection];
}
}

//获取当前屏幕显示的viewcontroller，当接收到推送需要跳转VC
- (UIViewController *)getCurrentVC {
UIViewController *rootViewController = [UIApplication sharedApplication].keyWindow.rootViewController;
UIViewController *currentVC = [self getCurrentVCFrom:rootViewController];
return currentVC;
}

- (UIViewController *)getCurrentVCFrom:(UIViewController *)rootVC {
UIViewController *currentVC;
if ([rootVC presentedViewController]) {
// 视图是被presented出来的
rootVC = [rootVC presentedViewController];
}
if ([rootVC isKindOfClass:[UITabBarController class]]) {
// 根视图为UITabBarController
currentVC = [self getCurrentVCFrom:[(UITabBarController *)rootVC selectedViewController]];

} else if ([rootVC isKindOfClass:[UINavigationController class]]){
// 根视图为UINavigationController
currentVC = [self getCurrentVCFrom:[(UINavigationController *)rootVC visibleViewController]];

} else {
// 根视图为非导航类
currentVC = rootVC;
}
return currentVC;
}
//接收到推送，json格式字符串转字典：因为MQ推过来的消息是 String 类型的
- (NSDictionary *)dictionaryWithJsonString:(NSString *)jsonString {

if (jsonString == nil) {
return nil;
}
NSData *jsonData = [jsonString dataUsingEncoding:NSUTF8StringEncoding];
NSError *err;
NSDictionary *dic = [NSJSONSerialization JSONObjectWithData:jsonData
options:NSJSONReadingMutableContainers
error:&amp;amp;err];
if(err) {
NSLog(@&quot;json解析失败：%@&quot;,err);
return nil;
}
return dic;

}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;23-本地安装启动mq服务&quot;&gt;2.3 本地安装启动MQ服务&lt;/h3&gt;

&lt;p&gt;如果电脑安装 brew 软件包工具的话，执行并启动&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;brew install rabbitmq

sudo ./rabbitmq-server

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;浏览器访问:localhost:15672,默认账号为:guest 密码: guest&lt;/p&gt;

&lt;h2 id=&quot;三rabbitmq-遇到的问题&quot;&gt;三.RabbitMQ 遇到的问题&lt;/h2&gt;

&lt;h3 id=&quot;31-地址不对connect-fail&quot;&gt;3.1 地址不对，connect fail&lt;/h3&gt;
&lt;blockquote&gt;
  &lt;p&gt;Received connection: &amp;lt;RMQConnection: 0x103fa1fc0&amp;gt; disconnectedWithError: Error Domain=GCDAsyncSocketErrorDomain Code=7 “Socket closed by remote peer” UserInfo={NSLocalizedDescription=Socket closed by remote peer}&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;解决办法：MQ的鉴权，O-C跟Java的格式不太一样，Java是通过Name,Host,Ip等，iOS的是直接设置地址&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;amqps://user:pass@hostname:1234/myvhost&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;说明：&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;协议头：如果是Https的话，协议用：amqps，如果是Http，用amqp&lt;/li&gt;
  &lt;li&gt;用户名：userName&lt;/li&gt;
  &lt;li&gt;用户密码：password&lt;/li&gt;
  &lt;li&gt;ip地址：182.142.123等&lt;/li&gt;
  &lt;li&gt;port端口：5672&lt;/li&gt;
  &lt;li&gt;虚拟主机：由后台定义，可有可无，根据需求，myloghost&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;32-服务端与客户端参数配置有误消息队列持久化&quot;&gt;3.2 服务端与客户端参数配置有误,消息队列持久化&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Error Domain=com.rabbitmq.rabbitmq-objc-client Code=406 “PRECONDITION_FAILED - inequivalent arg ‘durable’ for queue ‘Mobile_Electric_Alarm’ in vhost ‘device_log_2’: received ‘false’ but current is ‘true’” UserInfo={NSLocalizedDescription=PRECONDITION_FAILED - inequivalent arg ‘durable’ for queue ‘Mobile_Electric_Alarm’ in vhost ‘device_log_2’: received ‘false’ but current is ‘true’}&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;看3.3解决办法&lt;/p&gt;

&lt;h3 id=&quot;33-mq-找不到对应的队列&quot;&gt;3.3 MQ 找不到对应的队列&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;Error Domain=com.rabbitmq.rabbitmq-objc-client Code=404 “NOT_FOUND - no queue ‘rmq-objc-client.gen-3B6E0E14-06E6-4AFC-B6E1-42A7F8FCD218-46927-00002C8AE36AB350’ in vhost ‘device_log_2’” UserInfo={NSLocalizedDescription=NOT_FOUND - no queue ‘rmq-objc-client.gen-3B6E0E14-06E6-4AFC-B6E1-42A7F8FCD218-46927-00002C8AE36AB350’ in vhost ‘device_log_2’}&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;解决办法：&lt;/p&gt;

&lt;p&gt;Exchange 交换器的配置参数，跟后台约定的不一致，有时候后台也不知道自己配置的啥，就需要尝试了；&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;/**

typedef NS_OPTIONS(NSUInteger, RMQExchangeDeclareOptions) {
RMQExchangeDeclareNoOptions  = 0,
/// 被动声明
RMQExchangeDeclarePassive    = 1 &amp;lt;&amp;lt; 0,
///交换器持久化
RMQExchangeDeclareDurable    = 1 &amp;lt;&amp;lt; 1,
/// 自动销毁交换器，当所有的消息队列都被使用
RMQExchangeDeclareAutoDelete = 1 &amp;lt;&amp;lt; 2,
/// 配置的交换器内部构造对应用发布者不可见
RMQExchangeDeclareInternal   = 1 &amp;lt;&amp;lt; 3,
/// @brief
RMQExchangeDeclareNoWait     = 1 &amp;lt;&amp;lt; 4,
};*/
RMQExchange *x = [ch  direct:@&quot;Mobile_Electric_Alarm&quot; options:(RMQExchangeDeclareNoOptions)];
/** 
* 队列的配置可选参数
* 
typedef NS_OPTIONS(NSUInteger, RMQQueueDeclareOptions) {
RMQQueueDeclareNoOptions  = 0,
/// 被动声明
RMQQueueDeclarePassive    = 1 &amp;lt;&amp;lt; 0,
/// 队列持久化
RMQQueueDeclareDurable    = 1 &amp;lt;&amp;lt; 1,
/// 只能被当前的连接授权访问
RMQQueueDeclareExclusive  = 1 &amp;lt;&amp;lt; 2,
/// 自动删除
RMQQueueDeclareAutoDelete = 1 &amp;lt;&amp;lt; 3,
///
RMQQueueDeclareNoWait     = 1 &amp;lt;&amp;lt; 4,
};
*/
RMQQueue *q = [ch queue:@&quot;&quot; options:RMQQueueDeclareExclusive | RMQQueueDeclareAutoDelete];


&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;如果连接成功后，那么在MQ的管理台，就可以看到当前连接的消费者了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/%E5%9B%BE%E7%89%87.png&quot; alt=&quot;管理台当前连接消费者&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[参考文章]&lt;/p&gt;

&lt;p&gt;1&amp;gt; &lt;a href=&quot;https://www.rabbitmq.com/tutorials/tutorial-one-objectivec.html&quot;&gt;RabbbitMQ官网&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2&amp;gt; &lt;a href=&quot;http://www.diggerplus.org/archives/3110&quot;&gt;RabbitMQ基础概念详细介绍&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;3&amp;gt; &lt;a href=&quot;https://www.jianshu.com/p/79ca08116d57&quot;&gt;消息队列之 RabbitMQ&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;4&amp;gt; &lt;a href=&quot;https://www.jianshu.com/p/5c2d8af2c78e&quot;&gt;RabbitMQ——第一篇：RabbitMQ介绍&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;交流讨论&quot;&gt;交流讨论&lt;/h2&gt;

&lt;p&gt;RabbitMQ在iOS中的使用资料很少，如果有问题的话，欢迎留言探讨，也可以加我QQ:1093034974&lt;/p&gt;

&lt;p&gt;另外，如果你觉得我的文章对你有一定的帮助，非常感谢能够点赞，谢谢！&lt;/p&gt;
</description>
        <pubDate>Tue, 14 Aug 2018 06:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/08/14/RabbitMQ%E5%9C%A8iOS%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/08/14/RabbitMQ%E5%9C%A8iOS%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8/</guid>
        
        <category>iOS技术</category>
        
        
      </item>
    
      <item>
        <title>Mac 生成目录树结构</title>
        <description>&lt;p&gt;文章原创如需转载，请注明出处”本文首发于&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;”;&lt;/p&gt;

&lt;p&gt;前言&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;在整理自己的GitHub主页，发现文档目录结构不好写，自己也尝试敲出来，无奈，工程浩大，看着别人的目录树，感觉很好，比如下面的这种，有没有感觉很好看&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;|-- kibana
    |-- .bowerrc
    |-- .gitignore
    |-- .jshintrc
    |-- .travis.yml
    |-- CONTRIBUTING.md
    |-- FAQ.md
    |-- Gruntfile.js
    |-- LICENSE.md
    |-- README.md
    |-- STYLEGUIDE.md
    |-- bower.json
    |-- package.json
    |-- docs
    |   |-- access.asciidoc
    
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://vimsky.com/article/3606.html&quot;&gt;这篇文章:Markdown语法：表示目录文件结构，方法汇总&lt;/a&gt;介绍了不同的工具，方法，我尝试了其中一种 ==mddir== 但是，不尽如我意，打算试试  &lt;a href=&quot;http://mama.indstate.edu/users/ice/tree/&quot;&gt;tree&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;tree安装&quot;&gt;tree安装&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;brew install tree&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;没有 brew  自行安装，也很简单,如下&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ruby -e “$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;
安装完之后：

==&amp;gt; Downloading https://homebrew.bintray.com/bottles/tree-1.7.0.high_sierra.bottle.1
######################################################################## 100.0%
==&amp;gt; Pouring tree-1.7.0.high_sierra.bottle.1.tar.gz
🍺  /usr/local/Cellar/tree/1.7.0: 8 files, 114.3KB

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;使用方法&quot;&gt;使用方法&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;tree -a 显示 当前目录下，所有的文件结构，类似如下：&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;├── .DS_Store
├── .git
│   ├── COMMIT_EDITMSG
│   ├── FETCH_HEAD
│   ├── HEAD
│   ├── ORIG_HEAD
│   ├── config
│   ├── description
│   ├── hooks
│   │   ├── applypatch-msg.sample
│   │   ├── commit-msg.sample
│   │   ├── post-update.sample
│   │   ├── pre-applypatch.sample
│   │   ├── pre-commit.sample
│   │   ├── pre-push.sample
│   │   ├── pre-rebase.sample
│   │   ├── pre-receive.sample
│   │   ├── prepare-commit-msg.sample
│   │   └── update.sample
│   ├── index

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;tree -d 只显示文件夹&lt;/li&gt;
  &lt;li&gt;tree -L n 显示项目的层级。n表示层级数。比如想要显示项目二层结构，可以用tree -L 2,这个 L 参数是大写&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;对汉字支持不是很有好&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;.
├── Category
│   ├── Map格�\217�\214\226
│   ├── UIBarButtonItem�\210\206类
│   ├── UIColor�\232\204�\210\206类
│   ├── UIGesture�\210\206类
│   ├── UIImage�\232\204�\210\206类
│   ├── UIViewFrame
│   ├── �\227��\234\237�\210��\226�
│   └── 计�\227�\226\207件�\200�大�\217
├── Macros
│   └── Single.h
├── README.md
└── Utils
    ├── DateManger
    ├── RSA+3DES
    ├── �\230�止�\225��\204,�\227符串崩�\203crashLib
    ├── 访�\227�系�\237�\233��\206\214
    └── �\216��\210��\217��\211�\214\226�\217\222件ConsoleCheseInput

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;tree -I pattern 用于过滤不想要显示的文件或者文件夹。比如你想要过滤项目中的README，可以使用tree -I “README”；&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;举个例子：&lt;/p&gt;

&lt;p&gt;如果我们要显示某个项目下2层的所有文件结构，同时又过滤README，最后输出到 md 文件，可以这么写&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;tree -L 2 -I “README”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;输出如下：&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;.
├── Category
│   ├── Map格�\217�\214\226
│   ├── UIBarButtonItem�\210\206类
│   ├── UIColor�\232\204�\210\206类
│   ├── UIGesture�\210\206类
│   ├── UIImage�\232\204�\210\206类
│   ├── UIViewFrame
│   ├── �\227��\234\237�\210��\226�
│   └── 计�\227�\226\207件�\200�大�\217
├── Macros
│   └── Single.h
├── README.md
└── Utils
    ├── DateManger
    ├── RSA+3DES
    ├── �\230�止�\225��\204,�\227符串崩�\203crashLib
    ├── 访�\227�系�\237�\233��\206\214
    └── �\216��\210��\217��\211�\214\226�\217\222件ConsoleCheseInput

&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;更多帮助查看 tree -help&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;lucy@lucydeMacBook-Pro:~/Desktop/个人本博客/LX_Extend$ tree -help
tree: Invalid argument -`e'.
usage: tree [-acdfghilnpqrstuvxACDFJQNSUX] [-H baseHREF] [-T title ]
[-L level [-R]] [-P pattern] [-I pattern] [-o filename] [--version]
[--help] [--inodes] [--device] [--noreport] [--nolinks] [--dirsfirst]
[--charset charset] [--filelimit[=]#] [--si] [--timefmt[=]&amp;lt;f&amp;gt;]
[--sort[=]&amp;lt;name&amp;gt;] [--matchdirs] [--ignore-case] [--] [&amp;lt;directory list&amp;gt;]
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 15 Jul 2018 06:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/07/15/Mac-%E7%94%9F%E6%88%90%E7%9B%AE%E5%BD%95%E6%A0%91%E7%BB%93%E6%9E%84/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/07/15/Mac-%E7%94%9F%E6%88%90%E7%9B%AE%E5%BD%95%E6%A0%91%E7%BB%93%E6%9E%84/</guid>
        
        <category>工具</category>
        
        
      </item>
    
      <item>
        <title>Mac APP数据抓包神器 Charles 破解版及使用</title>
        <description>&lt;p&gt;文章原创如需转载，请注明出处”本文首发于&lt;a href=&quot;https://yizibi.github.io/&quot;&gt;一之笔&lt;/a&gt;”;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charlesicon@2x.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.charlesproxy.com/&quot;&gt;Charles官网&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;备注&lt;/code&gt;:如果不差钱,直接&lt;a href=&quot;https://www.charlesproxy.com/buy/&quot;&gt;官网购买&lt;/a&gt;,一个授权码 30 刀;当然也可以试用版 30 天;&lt;/p&gt;

&lt;h3 id=&quot;一环境配置&quot;&gt;一.环境配置&lt;/h3&gt;

&lt;h4 id=&quot;11-软件破解版下载&quot;&gt;1.1 软件破解版下载&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;http://xclient.info/s/charles.html?t=a5394ba268ffbedd3c9bb0d9446eb6226ee067a6&quot;&gt;点我下载&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;如果点开失败,也可以打开&lt;a href=&quot;http://xclient.info/&quot;&gt;这个网址&lt;/a&gt;,直接搜索破解版即可;里面有详细的破解教程,并且会更新&lt;/p&gt;

&lt;p&gt;步骤:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;将 Charles.app 拖至 应用程序 文件夹&lt;/li&gt;
  &lt;li&gt;复制 charles.jar 至 /Applications/Charles.app/Contents/Java/&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;12-软件激活&quot;&gt;1.2 软件激活&lt;/h4&gt;

&lt;p&gt;打开软件,点击菜单栏 -&amp;gt; help -&amp;gt; Register 打开弹窗,填写信息激活;&lt;/p&gt;

&lt;p&gt;直接用以下账号注册激活:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Registered Name: &lt;code class=&quot;highlighter-rouge&quot;&gt;https://zhile.io&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;License Key: &lt;code class=&quot;highlighter-rouge&quot;&gt;48891cf209c6d32bf4&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;二使用方法&quot;&gt;二.使用方法&lt;/h3&gt;

&lt;h4 id=&quot;20-准备工作&quot;&gt;2.0 准备工作&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;首先,电脑安装 &lt;code class=&quot;highlighter-rouge&quot;&gt;SSL&lt;/code&gt; 证书&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;看大图如下:
&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charlesSSLRoot.png&quot; alt=&quot;安装rootSSL证书&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;需要注意&lt;/code&gt;:Mac 默认安装外来的证书是不被信任的,需要完全信任;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;证书信任&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;打开钥匙串,找到刚才下载的证书,然后点开,找到信任,修改成 完全信任,如下:
&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charlesSSKxinren@2x.png&quot; alt=&quot;SSL证书信任设置&quot; /&gt;&lt;/p&gt;

&lt;p&gt;至此,基本的软件环境设置完成;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;注意&lt;/code&gt;: 不管是 http 还是 https 都需要配置手机代理,需要保证手机跟电脑连接的是 &lt;code class=&quot;highlighter-rouge&quot;&gt;同一个&lt;/code&gt; WIFI&lt;/p&gt;

&lt;h4 id=&quot;21-http-抓包&quot;&gt;2.1 http 抓包&lt;/h4&gt;

&lt;p&gt;http抓包比较简单,电脑设置好之后,配置手机代理,点开 WIFI 名称,打开WIFI详情,点击 配置代理,选择 手动,设置 服务器 跟 端口,设置好之后,电脑会弹窗,是否允许电脑作为手机http代理,选择 yes即可,不要手快,点击了 deny 了,说了这么多,其实就是下面一个图:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charlesdelegateSeting.PNG&quot; alt=&quot;配置代理&quot; /&gt;&lt;/p&gt;

&lt;p&gt;不出意外的话,就可以看到请求的数据了&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charlesResult.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;22-https-抓包&quot;&gt;2.2 https 抓包&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;手机安装 SSL 证书,打开 safari 浏览器,输入 Charles 软件获取到的地址,按照要求一路 next 操作;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charleshttpsIphoneSSL.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;信任证书即可操作;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;设置软件SSL 端口跟域名白名单&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charlesSetingSSL.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;三可能遇到的问题&quot;&gt;三.可能遇到的问题&lt;/h3&gt;

&lt;h4 id=&quot;中文乱码&quot;&gt;中文乱码&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;解决&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;应用程序-&amp;gt;Charles-&amp;gt;显示包内容-&amp;gt;info.plis如下:
在VMOptions中加一项：&lt;code class=&quot;highlighter-rouge&quot;&gt;-Dfile.encoding=UTF-8&lt;/code&gt;
如下图:
&lt;img src=&quot;http://o9zpq25pv.bkt.clouddn.com/lucyBlog/charleszhongwenluanma.png&quot; alt=&quot;中文乱码设置&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;https-手机端证书安装了也信任了还是无法查看信息&quot;&gt;https 手机端证书安装了,也信任了,还是无法查看信息&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;解决,iOS 10 +,没有彻底信任证书&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;需要在一下路径中信任证书&lt;/p&gt;

&lt;p&gt;设置→通用→关于本机→证书信任设置,里面启用完全信任Charles证书&lt;/p&gt;
</description>
        <pubDate>Sun, 10 Jun 2018 06:32:24 +0000</pubDate>
        <link>http://localhost:4000/2018/06/10/Mac-APP%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8C%85%E7%A5%9E%E5%99%A8-Charles-%E7%A0%B4%E8%A7%A3%E7%89%88%E5%8F%8A%E4%BD%BF%E7%94%A8/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/06/10/Mac-APP%E6%95%B0%E6%8D%AE%E6%8A%93%E5%8C%85%E7%A5%9E%E5%99%A8-Charles-%E7%A0%B4%E8%A7%A3%E7%89%88%E5%8F%8A%E4%BD%BF%E7%94%A8/</guid>
        
        <category>工具</category>
        
        
      </item>
    
  </channel>
</rss>
